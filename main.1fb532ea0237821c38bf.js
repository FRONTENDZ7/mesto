(()=>{"use strict";var e=document.querySelector(".profile__editor"),t=document.querySelector(".profile__add-mesto"),r=document.querySelector("#popup-edit"),n=r.querySelector(".popup__form"),o=document.querySelector("#popup-add").querySelector(".popup__form"),i=r.querySelector("#username-input"),a=r.querySelector("#description-input"),u=document.querySelector("#popup-update-avatar").querySelector(".popup__form"),c=document.querySelector(".profile__avatar-edit"),s={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__submit",inactiveButtonClass:"popup__submit_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__input_type_visible"};function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===l(o)?o:String(o)),n)}var o}var p=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._validationSettings=t,this._formElement=r,this._submitButton=this._formElement.querySelector(this._validationSettings.submitButtonSelector),this._inputList=Array.from(this._formElement.querySelectorAll(this._validationSettings.inputSelector))}var t,r;return t=e,(r=[{key:"_showError",value:function(e,t){var r=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(this._validationSettings.inputErrorClass),r.textContent=t,r.classList.add(this._validationSettings.errorClass)}},{key:"_hideError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._validationSettings.inputErrorClass),t.classList.remove(this._validationSettings.errorClass),t.textContent=""}},{key:"_checkValidityInput",value:function(e){e.validity.valid?this._hideError(e):this._showError(e,e.validationMessage)}},{key:"_setEventListeners",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkValidityInput(t),e._toggleButtonState()}))}))}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_disableSubmitButton",value:function(){this._submitButton.setAttribute("disabled","true"),this._submitButton.classList.add(this._validationSettings.inactiveButtonClass)}},{key:"_enableSubmitButton",value:function(){this._submitButton.classList.remove(this._validationSettings.inactiveButtonClass),this._submitButton.removeAttribute("disabled")}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this._disableSubmitButton():this._enableSubmitButton()}},{key:"resetValidation",value:function(){var e=this;this._inputList.forEach((function(t){e._hideError(t)})),this._toggleButtonState()}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&f(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function v(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===y(t)?t:String(t)}var m=function(){function e(t,r,n,o,i){var a,u,c,s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a=this,c=function(){s._likeIcon.addEventListener("click",(function(){return s._interactLike()})),s._elementImages.addEventListener("click",(function(){return s._cardZoom(s._cardName,s._cardImage)})),s._userId===s._authorId?s._deleteIcon.addEventListener("click",(function(){return s._cardDelete(s,s._cardId)})):s._deleteIcon.remove()},(u=v(u="_addEventHandlers"))in a?Object.defineProperty(a,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[u]=c,this._card=t,this._cardName=this._card.name,this._cardImage=this._card.link,this._cardTemplate=r,this._userId=n,this._cardId=o.cardId,this._authorId=o.authorId,this._cardZoom=i.makeCardZoom,this._cardDelete=i.makeCardDelete,this._putLike=i.makeCardLike,this._removeLike=i.makeCardDeleteLike}var t,r;return t=e,(r=[{key:"_createCard",value:function(){return document.querySelector(this._cardTemplate).content.querySelector(".cards__item").cloneNode(!0)}},{key:"deleteCard",value:function(){this._cardElement.remove(),this._cardElement=null}},{key:"renderCardLike",value:function(e){this._likeArea=e.likes,0===this._likeArea.length?this.likeSelector.textContent="":this.likeSelector.textContent=this._likeArea.length,this._likedCard()?this._likeIcon.classList.add("cards__like_active"):this._likeIcon.classList.remove("cards__like_active")}},{key:"_likedCard",value:function(){var e=this;return this._likeArea.find((function(t){return t._id===e._userId}))}},{key:"_interactLike",value:function(){this._likedCard()?this._removeLike(this._cardId):this._putLike(this._cardId)}},{key:"makeCard",value:function(){return this._cardElement=this._createCard(),this._elementImages=this._cardElement.querySelector(".cards__image"),this._elementName=this._cardElement.querySelector(".cards__description"),this._likeIcon=this._cardElement.querySelector(".cards__like"),this._deleteIcon=this._cardElement.querySelector(".cards__delete"),this.likeSelector=this._cardElement.querySelector(".cards__like-counter"),this._elementName.textContent=this._cardName,this._elementImages.src=this._cardImage,this._elementImages.alt=this._cardName,this.renderCardLike(this._card),this._addEventHandlers(),this._cardElement}}])&&d(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==h(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===h(o)?o:String(o)),n)}var o}var _=function(){function e(t,r){var n=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=n,this._container=document.querySelector(r)}var t,r;return t=e,(r=[{key:"renderItems",value:function(e){e.forEach(this._renderer)}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&b(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k(n.key),n)}}function k(e){var t=function(e,t){if("object"!==S(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===S(t)?t:String(t)}var w=function(){function e(t){var r,n,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,o=function(e){"Escape"===e.key&&i.close()},(n=k(n="_handleEscClose"))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,this._popupItem=document.querySelector(t)}var t,r;return t=e,(r=[{key:"open",value:function(){this._popupItem.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupItem.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popupItem.addEventListener("mousedown",(function(t){(t.target.classList.contains("popup_opened")||t.target.classList.contains("popup__close"))&&e.close()}))}}])&&g(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==E(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===E(o)?o:String(o)),n)}var o}function O(){return O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},O.apply(this,arguments)}function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P(e,t)}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=C(n);if(o){var r=C(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e,t){var r,n=t.callbackNotice;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e))._submitButton=r._popupItem.querySelector(".popup__form"),r._callbackNotice=n,r}return t=a,(r=[{key:"open",value:function(e,t){this._cardObject=e,this._cardId=t,O(C(a.prototype),"open",this).call(this)}},{key:"setEventListeners",value:function(){var e=this;this._submitButton.addEventListener("submit",(function(t){t.preventDefault(),e._callbackNotice(e._cardObject,e._cardId)})),O(C(a.prototype),"setEventListeners",this).call(this)}}])&&j(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(w);function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function T(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==L(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===L(o)?o:String(o)),n)}var o}function R(){return R="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=B(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},R.apply(this,arguments)}function q(e,t){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},q(e,t)}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},B(e)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=B(n);if(o){var r=B(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._popupDescription=t._popupItem.querySelector(".popup__description"),t._popupImage=t._popupItem.querySelector(".popup__image"),t}return t=a,(r=[{key:"open",value:function(e,t){this._popupDescription.textContent=e,this._popupImage.src=t,this._popupImage.alt=e,R(B(a.prototype),"open",this).call(this)}}])&&T(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(w);function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==D(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===D(o)?o:String(o)),n)}var o}function N(){return N="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=V(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},N.apply(this,arguments)}function U(e,t){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},U(e,t)}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=V(n);if(o){var r=V(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===D(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e,t){var r,n=t.callbackFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e))._callbackFormSubmit=n,r._popupFormItem=r._popupItem.querySelector(".popup__form"),r._inputList=Array.from(r._popupFormItem.querySelectorAll(".popup__input")),r._sendButton=r._popupItem.querySelector(".popup__submit"),r._sendButtonText=r._sendButton.textContent,r}return t=a,(r=[{key:"_getInputValues",value:function(){var e={};return this._inputList.forEach((function(t){e[t.name]=t.value})),e}},{key:"setEventListeners",value:function(){var e=this;N(V(a.prototype),"setEventListeners",this).call(this),this._popupFormItem.addEventListener("submit",(function(t){t.preventDefault(),e._callbackFormSubmit(e._getInputValues())}))}},{key:"putSavingProcessText",value:function(){this._sendButton.textContent="Сохранение..."}},{key:"returnSavingProcessText",value:function(){this._sendButton.textContent=this._sendButtonText}},{key:"close",value:function(){N(V(a.prototype),"close",this).call(this),this._popupFormItem.reset()}}])&&A(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(w);function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function Z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==H(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==H(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===H(o)?o:String(o)),n)}var o}var J=function(){function e(t){var r=t.usernameSelector,n=t.userDescriptionSelector,o=t.userAvatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._username=document.querySelector(r),this._userDescription=document.querySelector(n),this._avatarLink=document.querySelector(o)}var t,r;return t=e,(r=[{key:"getUserInfo",value:function(){return{username:this._username.textContent,description:this._userDescription.textContent}}},{key:"setUserInfo",value:function(e){var t=e.username,r=e.description;this._username.textContent=t,this._userDescription.textContent=r}},{key:"setUserAvatar",value:function(e){this._avatarLink.src=e}}])&&Z(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==M(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===M(o)?o:String(o)),n)}var o}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var G,K=new(function(){function e(t){var r=t.link,n=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._link=r,this._headers=n}var t,r;return t=e,(r=[{key:"_processingServerResponse",value:function(e){return e.ok?e.json():Promise.reject("код ошибки: ".concat(e.status))}},{key:"getInitialCards",value:function(){var e=this;return fetch("".concat(this._link,"cards"),{headers:this._headers}).then((function(t){return e._processingServerResponse(t)}))}},{key:"addNewCard",value:function(e){var t=this,r=e.name,n=e.link;return fetch("".concat(this._link,"cards"),{headers:this._headers,method:"POST",body:JSON.stringify({name:r,link:n})}).then((function(e){return t._processingServerResponse(e)}))}},{key:"deleteCard",value:function(e){var t=this;return fetch("".concat(this._link,"cards/").concat(e),{headers:this._headers,method:"DELETE"}).then((function(e){return t._processingServerResponse(e)}))}},{key:"getUserData",value:function(){var e=this;return fetch("".concat(this._link,"users/me"),{headers:this._headers}).then((function(t){return e._processingServerResponse(t)}))}},{key:"sendUserData",value:function(e){var t=this;return fetch("".concat(this._link,"users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify({name:e.username,about:e.description})}).then((function(e){return t._processingServerResponse(e)}))}},{key:"sendAvatarData",value:function(e){var t=this;return fetch("".concat(this._link,"users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e.avatar})}).then((function(e){return t._processingServerResponse(e)}))}},{key:"putLikeCard",value:function(e){var t=this;return fetch("".concat(this._link,"cards/").concat(e,"/likes"),{headers:this._headers,method:"PUT"}).then((function(e){return t._processingServerResponse(e)}))}},{key:"deleteLikeCard",value:function(e){var t=this;return fetch("".concat(this._link,"cards/").concat(e,"/likes"),{headers:this._headers,method:"DELETE"}).then((function(e){return t._processingServerResponse(e)}))}}])&&z(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}())({link:"https://mesto.nomoreparties.co/v1/cohort-60/",headers:{authorization:"ea6d0234-cad7-4863-ab35-40a0835bbbf9","Content-Type":"application/json"}}),Q=new J({usernameSelector:".profile__name",userDescriptionSelector:".profile__description",userAvatarSelector:".profile__avatar"}),W=function(e){var t=new m(e,"#card-template",G,{cardId:e._id,authorId:e.owner._id},{makeCardZoom:function(e,t){Y.open(e,t)},makeCardDelete:function(e,t){te.open(e,t)},makeCardLike:function(e){K.putLikeCard(e).then((function(e){t.renderCardLike(e)})).catch((function(e){console.log("При лайке карточки возникла ошибка, ".concat(e))}))},makeCardDeleteLike:function(e){K.deleteLikeCard(e).then((function(e){t.renderCardLike(e)})).catch((function(e){console.log("При дизлайке карточки возникла ошибка, ".concat(e))}))}});return t.makeCard()},X=new _({renderer:function(e){X.addItem(W(e))}},".cards");Promise.all([K.getUserData(),K.getInitialCards()]).then((function(e){var t,r,n=(r=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(t,r)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1];G=o._id,Q.setUserInfo({username:o.name,description:o.about}),X.renderItems(i.reverse()),Q.setUserAvatar(o.avatar)})).catch((function(e){console.log("Возникла глобальная ошибка, ".concat(e))}));var Y=new x("#popup-image");Y.setEventListeners();var ee=new F("#popup-update-avatar",{callbackFormSubmit:function(e){ee.putSavingProcessText(),K.sendAvatarData(e).then((function(e){Q.setUserAvatar(e.avatar),ee.close()})).catch((function(e){console.log("При обновлении аватара возникла ошибка, ".concat(e))})).finally((function(){ee.returnSavingProcessText()}))}});ee.setEventListeners();var te=new I("#popup-delete-card",{callbackNotice:function(e,t){K.deleteCard(t).then((function(){e.deleteCard(),te.close()})).catch((function(e){console.log("При удалении карточки возникла ошибка, ".concat(e))}))}});te.setEventListeners();var re=new F("#popup-edit",{callbackFormSubmit:function(e){re.putSavingProcessText(),K.sendUserData(e).then((function(e){Q.setUserInfo({username:e.name,description:e.about}),re.close()})).catch((function(e){console.log("При редактировании профиля возникла ошибка, ".concat(e))})).finally((function(){re.returnSavingProcessText()}))}});re.setEventListeners();var ne=new F("#popup-add",{callbackFormSubmit:function(e){ne.putSavingProcessText(),K.addNewCard({name:e.placename,link:e.placeimage}).then((function(e){X.addItem(W(e)),ne.close()})).catch((function(e){console.log("При добавлении новой карточки возникла ошибка, ".concat(e))})).finally((function(){ne.returnSavingProcessText()}))}});ne.setEventListeners();var oe=new p(s,o);oe.enableValidation();var ie=new p(s,n);ie.enableValidation();var ae=new p(s,u);ae.enableValidation(),e.addEventListener("click",(function(){re.open(),ie.resetValidation();var e=Q.getUserInfo();i.value=e.username,a.value=e.description})),c.addEventListener("click",(function(){ee.open(),ae.resetValidation()})),t.addEventListener("click",(function(){ne.open(),oe.resetValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFDdENrSCxHQUFheEYsT0FDZixJQUNDK0QsT0FBTSxTQUFDQyxHQUFVQyxRQUFRQyxJQUFJLGtEQUFELE9BQW1ERixHQUFPLElBQ3RGbUIsU0FBUSxXQUNQSyxHQUFhSix5QkFDZixHQUNKLElBRUZJLEdBQWFULG9CQUViLElBQU1hLEdBQWUsSUFBSXpMLEVBQWNQLEVBQWVMLEdBQ3REcU0sR0FBYUMsbUJBQ2IsSUFBTUMsR0FBc0IsSUFBSTNMLEVBQWNQLEVBQWVOLEdBQzdEd00sR0FBb0JELG1CQUNwQixJQUFNRSxHQUF3QixJQUFJNUwsRUFBY1AsRUFBZUYsR0FDL0RxTSxHQUFzQkYsbUJBRXRCNU0sRUFBa0I0QyxpQkFBaUIsU0FBUyxXQUMxQ3lKLEdBQWlCMUIsT0FDakJrQyxHQUFvQkUsa0JBQ3BCLElBQU1DLEVBQWlCMUMsRUFBUzJDLGNBQ2hDMU0sRUFBVStILE1BQVEwRSxFQUFlaEUsU0FDakN4SSxFQUFTOEgsTUFBUTBFLEVBQWVuRixXQUNsQyxJQUVBbkgsRUFBZWtDLGlCQUFpQixTQUFTLFdBQ3ZDbUosR0FBa0JwQixPQUNsQm1DLEdBQXNCQyxpQkFDeEIsSUFFQTVNLEVBQWlCeUMsaUJBQWlCLFNBQVMsV0FDekMySixHQUFhNUIsT0FDYmdDLEdBQWFJLGlCQUNmLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwTm90aWNlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHByb2ZpbGVCdXR0b25FZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXRvcicpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVCdXR0b25BZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLW1lc3RvJyk7XG5leHBvcnQgY29uc3QgcG9wdXBFZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BvcHVwLWVkaXQnKTtcbmV4cG9ydCBjb25zdCBmb3JtUHJvZmlsZSA9IHBvcHVwRWRpdC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcbmV4cG9ydCBjb25zdCBwb3B1cEFkZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwb3B1cC1hZGQnKTtcbmV4cG9ydCBjb25zdCBmb3JtQ2FyZHMgPSBwb3B1cEFkZC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcbmV4cG9ydCBjb25zdCBpbnB1dE5hbWUgPSBwb3B1cEVkaXQucXVlcnlTZWxlY3RvcignI3VzZXJuYW1lLWlucHV0Jyk7XG5leHBvcnQgY29uc3QgaW5wdXRKb2IgPSBwb3B1cEVkaXQucXVlcnlTZWxlY3RvcignI2Rlc2NyaXB0aW9uLWlucHV0Jyk7XG5leHBvcnQgY29uc3QgcG9wdXBVcGRhdGVBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcG9wdXAtdXBkYXRlLWF2YXRhcicpO1xuZXhwb3J0IGNvbnN0IHBvcHVwQXZhdGFyRWRpdEZvcm0gPSBwb3B1cFVwZGF0ZUF2YXRhci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcbmV4cG9ydCBjb25zdCBpY29uQXZhdGFyRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXItZWRpdCcpO1xuXG5leHBvcnQgY29uc3QgY29uZmlndXJhdGlvbiA9IHtcbiAgICBmb3JtU2VsZWN0b3I6ICcucG9wdXBfX2Zvcm0nLFxuICAgIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2lucHV0JyxcbiAgICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5wb3B1cF9fc3VibWl0JyxcbiAgICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX3N1Ym1pdF9kaXNhYmxlZCcsXG4gICAgaW5wdXRFcnJvckNsYXNzOiAncG9wdXBfX2lucHV0X3R5cGVfZXJyb3InLFxuICAgIGVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXRfdHlwZV92aXNpYmxlJ1xufTtcblxuIiwiZXhwb3J0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcih2YWxpZGF0aW9uU2V0dGluZ3MsIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5fdmFsaWRhdGlvblNldHRpbmdzID0gdmFsaWRhdGlvblNldHRpbmdzO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl92YWxpZGF0aW9uU2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3IpXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX3ZhbGlkYXRpb25TZXR0aW5ncy5pbnB1dFNlbGVjdG9yKSk7XG4gIH1cblxuICBfc2hvd0Vycm9yKGl0ZW1JbnB1dCwgZXJyb3JNZXNzYWdlKSB7XG4gICAgY29uc3QgaXRlbUVycm9yID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aXRlbUlucHV0LmlkfS1lcnJvcmApXG4gICAgaXRlbUlucHV0LmNsYXNzTGlzdC5hZGQodGhpcy5fdmFsaWRhdGlvblNldHRpbmdzLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgaXRlbUVycm9yLnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICAgIGl0ZW1FcnJvci5jbGFzc0xpc3QuYWRkKHRoaXMuX3ZhbGlkYXRpb25TZXR0aW5ncy5lcnJvckNsYXNzKTtcbiAgfVxuICBcbiAgX2hpZGVFcnJvcihpdGVtSW5wdXQpIHtcbiAgICBjb25zdCBpdGVtRXJyb3IgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpdGVtSW5wdXQuaWR9LWVycm9yYClcbiAgICBpdGVtSW5wdXQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl92YWxpZGF0aW9uU2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzKTtcbiAgICBpdGVtRXJyb3IuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl92YWxpZGF0aW9uU2V0dGluZ3MuZXJyb3JDbGFzcyk7XG4gICAgaXRlbUVycm9yLnRleHRDb250ZW50ID0gJyc7XG4gIH1cblxuICBfY2hlY2tWYWxpZGl0eUlucHV0KGl0ZW1JbnB1dCkge1xuICAgIGlmICghaXRlbUlucHV0LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93RXJyb3IoaXRlbUlucHV0LCBpdGVtSW5wdXQudmFsaWRhdGlvbk1lc3NhZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlRXJyb3IoaXRlbUlucHV0KTtcbiAgICB9XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaXRlbUlucHV0KSA9PiB7XG4gICAgICBpdGVtSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrVmFsaWRpdHlJbnB1dChpdGVtSW5wdXQpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBfaGFzSW52YWxpZElucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaXRlbUlucHV0KSA9PiB7XG4gICAgICByZXR1cm4gIWl0ZW1JbnB1dC52YWxpZGl0eS52YWxpZDtcbiAgICB9KTtcbiAgfVxuXG4gIF9kaXNhYmxlU3VibWl0QnV0dG9uKCkge1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ3RydWUnKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl92YWxpZGF0aW9uU2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gIH1cblxuICBfZW5hYmxlU3VibWl0QnV0dG9uKCkge1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3ZhbGlkYXRpb25TZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICB9XG5cbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xuICAgICAgdGhpcy5fZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9lbmFibGVTdWJtaXRCdXR0b24oKTtcbiAgICB9XG4gIH1cblxuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGl0ZW1JbnB1dCkgPT4geyB0aGlzLl9oaWRlRXJyb3IoaXRlbUlucHV0KTsgfSlcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICB9XG4gXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihjYXJkRWxlbWVudCwgZWxlbWVudFRlbXBsYXRlLCB1c2VySWQsIGF1dGhvckRhdGEsIGhhbmRsZUFjdGlvbnMpIHtcbiAgICB0aGlzLl9jYXJkID0gY2FyZEVsZW1lbnQ7XG4gICAgdGhpcy5fY2FyZE5hbWUgPSB0aGlzLl9jYXJkLm5hbWU7XG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fY2FyZC5saW5rO1xuICAgIHRoaXMuX2NhcmRUZW1wbGF0ZSA9IGVsZW1lbnRUZW1wbGF0ZTtcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XG4gICAgdGhpcy5fY2FyZElkID0gYXV0aG9yRGF0YS5jYXJkSWQ7XG4gICAgdGhpcy5fYXV0aG9ySWQgPSBhdXRob3JEYXRhLmF1dGhvcklkO1xuICAgIHRoaXMuX2NhcmRab29tID0gaGFuZGxlQWN0aW9ucy5tYWtlQ2FyZFpvb207XG4gICAgdGhpcy5fY2FyZERlbGV0ZSA9IGhhbmRsZUFjdGlvbnMubWFrZUNhcmREZWxldGU7XG4gICAgdGhpcy5fcHV0TGlrZSA9IGhhbmRsZUFjdGlvbnMubWFrZUNhcmRMaWtlO1xuICAgIHRoaXMuX3JlbW92ZUxpa2UgPSBoYW5kbGVBY3Rpb25zLm1ha2VDYXJkRGVsZXRlTGlrZTtcbiAgfVxuIFxuICBfY3JlYXRlQ2FyZCgpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkVGVtcGxhdGUpLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLmNhcmRzX19pdGVtJykuY2xvbmVOb2RlKHRydWUpO1xuICB9XG4gXG4gIGRlbGV0ZUNhcmQoKSB7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBudWxsO1xuICB9XG5cbiAgcmVuZGVyQ2FyZExpa2UoY2FyZCkge1xuICAgIHRoaXMuX2xpa2VBcmVhID0gY2FyZC5saWtlcztcbiAgICBpZiAodGhpcy5fbGlrZUFyZWEubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLmxpa2VTZWxlY3Rvci50ZXh0Q29udGVudCA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxpa2VTZWxlY3Rvci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VBcmVhLmxlbmd0aDtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2xpa2VkQ2FyZCgpKSB7XG4gICAgICB0aGlzLl9saWtlSWNvbi5jbGFzc0xpc3QuYWRkKCdjYXJkc19fbGlrZV9hY3RpdmUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbGlrZUljb24uY2xhc3NMaXN0LnJlbW92ZSgnY2FyZHNfX2xpa2VfYWN0aXZlJyk7XG4gICAgfVxuICB9XG4gIFxuICBfbGlrZWRDYXJkKCkge1xuICAgIHJldHVybiB0aGlzLl9saWtlQXJlYS5maW5kKCh1c2VyTGlrZSkgPT4gdXNlckxpa2UuX2lkID09PSB0aGlzLl91c2VySWQpO1xuICB9XG5cbiAgX2ludGVyYWN0TGlrZSgpIHtcbiAgICBpZiAodGhpcy5fbGlrZWRDYXJkKCkpIHtcbiAgICAgIHRoaXMuX3JlbW92ZUxpa2UodGhpcy5fY2FyZElkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fcHV0TGlrZSh0aGlzLl9jYXJkSWQpO1xuICAgIH1cbiAgfVxuXG4gIG1ha2VDYXJkKCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fY3JlYXRlQ2FyZCgpO1xuICAgIHRoaXMuX2VsZW1lbnRJbWFnZXMgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZHNfX2ltYWdlJyk7XG4gICAgdGhpcy5fZWxlbWVudE5hbWUgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZHNfX2Rlc2NyaXB0aW9uJyk7XG4gICAgdGhpcy5fbGlrZUljb24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZHNfX2xpa2UnKTtcbiAgICB0aGlzLl9kZWxldGVJY29uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRzX19kZWxldGUnKTtcbiAgICB0aGlzLmxpa2VTZWxlY3RvciA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkc19fbGlrZS1jb3VudGVyJyk7XG4gICAgdGhpcy5fZWxlbWVudE5hbWUudGV4dENvbnRlbnQgPSB0aGlzLl9jYXJkTmFtZTtcbiAgICB0aGlzLl9lbGVtZW50SW1hZ2VzLnNyYyA9IHRoaXMuX2NhcmRJbWFnZTtcbiAgICB0aGlzLl9lbGVtZW50SW1hZ2VzLmFsdCA9IHRoaXMuX2NhcmROYW1lO1xuICAgIHRoaXMucmVuZGVyQ2FyZExpa2UodGhpcy5fY2FyZCk7XG4gICAgdGhpcy5fYWRkRXZlbnRIYW5kbGVycygpO1xuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcbiAgfVxuXG4gIF9hZGRFdmVudEhhbmRsZXJzID0gKCkgPT4ge1xuICAgIHRoaXMuX2xpa2VJY29uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5faW50ZXJhY3RMaWtlKCkpXG4gICAgdGhpcy5fZWxlbWVudEltYWdlcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuX2NhcmRab29tKHRoaXMuX2NhcmROYW1lLCB0aGlzLl9jYXJkSW1hZ2UpKTtcbiAgICBpZiAodGhpcy5fdXNlcklkID09PSB0aGlzLl9hdXRob3JJZCkge1xuICAgICAgdGhpcy5fZGVsZXRlSWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+ICB0aGlzLl9jYXJkRGVsZXRlKHRoaXMsIHRoaXMuX2NhcmRJZCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9kZWxldGVJY29uLnJlbW92ZSgpO1xuICAgIH1cbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIHNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKHJlcykge1xuICAgIHJlcy5mb3JFYWNoKHRoaXMuX3JlbmRlcmVyKTtcbiAgfVxuXG4gIGFkZEl0ZW0oY2FyZEVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChjYXJkRWxlbWVudCk7XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cEl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cEl0ZW0uY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKVxuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXBJdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cEl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2dCkgPT4ge1xuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9vcGVuZWQnKSB8fCBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfX2Nsb3NlJykpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cE5vdGljZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgeyBjYWxsYmFja05vdGljZSB9KSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fcG9wdXBJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xuICAgIHRoaXMuX2NhbGxiYWNrTm90aWNlID0gY2FsbGJhY2tOb3RpY2U7XG4gIH1cblxuICBvcGVuKGNhcmRFbGVtZW50LCBjYXJkSWQpIHtcbiAgICB0aGlzLl9jYXJkT2JqZWN0ID0gY2FyZEVsZW1lbnQ7XG4gICAgdGhpcy5fY2FyZElkID0gY2FyZElkO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7IGV2dC5wcmV2ZW50RGVmYXVsdCgpOyB0aGlzLl9jYWxsYmFja05vdGljZSh0aGlzLl9jYXJkT2JqZWN0LCB0aGlzLl9jYXJkSWQpIH0pXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tICcuL1BvcHVwLmpzJztcblxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fcG9wdXBEZXNjcmlwdGlvbiA9IHRoaXMuX3BvcHVwSXRlbS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Rlc2NyaXB0aW9uJyk7XG4gICAgdGhpcy5fcG9wdXBJbWFnZSA9IHRoaXMuX3BvcHVwSXRlbS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlJyk7XG4gIH1cblxuICBvcGVuKGRlc2NyaXB0aW9uLCBpbWFnZSkge1xuICAgIHRoaXMuX3BvcHVwRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBkZXNjcmlwdGlvbjtcbiAgICB0aGlzLl9wb3B1cEltYWdlLnNyYyA9IGltYWdlO1xuICAgIHRoaXMuX3BvcHVwSW1hZ2UuYWx0ID0gZGVzY3JpcHRpb247XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gJy4vUG9wdXAuanMnO1xuXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgeyBjYWxsYmFja0Zvcm1TdWJtaXQgfSkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2NhbGxiYWNrRm9ybVN1Ym1pdCA9IGNhbGxiYWNrRm9ybVN1Ym1pdDtcbiAgICB0aGlzLl9wb3B1cEZvcm1JdGVtID0gdGhpcy5fcG9wdXBJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fcG9wdXBGb3JtSXRlbS5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2lucHV0JykpO1xuICAgIHRoaXMuX3NlbmRCdXR0b24gPSB0aGlzLl9wb3B1cEl0ZW0ucXVlcnlTZWxlY3RvcignLnBvcHVwX19zdWJtaXQnKTtcbiAgICB0aGlzLl9zZW5kQnV0dG9uVGV4dCA9IHRoaXMuX3NlbmRCdXR0b24udGV4dENvbnRlbnQ7XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgY29uc3QgZm9ybVZhbHVlcyA9IHt9O1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKGl0ZW1JbnB1dCA9PiB7XG4gICAgICBmb3JtVmFsdWVzW2l0ZW1JbnB1dC5uYW1lXSA9IGl0ZW1JbnB1dC52YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gZm9ybVZhbHVlcztcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fcG9wdXBGb3JtSXRlbS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2NhbGxiYWNrRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICB9KTtcbiAgfVxuXG4gIHB1dFNhdmluZ1Byb2Nlc3NUZXh0KCkge1xuICAgIHRoaXMuX3NlbmRCdXR0b24udGV4dENvbnRlbnQgPSAn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nO1xuICB9XG4gXG4gIHJldHVyblNhdmluZ1Byb2Nlc3NUZXh0KCkge1xuICAgIHRoaXMuX3NlbmRCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9zZW5kQnV0dG9uVGV4dDtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgdGhpcy5fcG9wdXBGb3JtSXRlbS5yZXNldCgpO1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7IHVzZXJuYW1lU2VsZWN0b3IsIHVzZXJEZXNjcmlwdGlvblNlbGVjdG9yLCB1c2VyQXZhdGFyU2VsZWN0b3IgfSkge1xuICAgIHRoaXMuX3VzZXJuYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VybmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl91c2VyRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJEZXNjcmlwdGlvblNlbGVjdG9yKTtcbiAgICB0aGlzLl9hdmF0YXJMaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VyQXZhdGFyU2VsZWN0b3IpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVzZXJuYW1lOiB0aGlzLl91c2VybmFtZS50ZXh0Q29udGVudCxcbiAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLl91c2VyRGVzY3JpcHRpb24udGV4dENvbnRlbnRcbiAgICB9O1xuICB9XG5cbiAgc2V0VXNlckluZm8oeyB1c2VybmFtZSwgZGVzY3JpcHRpb24gfSkge1xuICAgIHRoaXMuX3VzZXJuYW1lLnRleHRDb250ZW50ID0gdXNlcm5hbWU7XG4gICAgdGhpcy5fdXNlckRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gZGVzY3JpcHRpb247XG4gIH1cbiBcbiAgc2V0VXNlckF2YXRhcihhdmF0YXJMaW5rKSB7XG4gICAgdGhpcy5fYXZhdGFyTGluay5zcmMgPSBhdmF0YXJMaW5rO1xuICB9XG59XG4iLCJpbXBvcnQgJy4vaW5kZXguY3NzJztcblxuaW1wb3J0IHsgXG4gIGNvbmZpZ3VyYXRpb24sIHByb2ZpbGVCdXR0b25FZGl0LFxuICBwcm9maWxlQnV0dG9uQWRkLCBcbiAgZm9ybVByb2ZpbGUsICBcbiAgZm9ybUNhcmRzLCBpbnB1dE5hbWUsIFxuICBpbnB1dEpvYiwgXG4gIHBvcHVwQXZhdGFyRWRpdEZvcm0sIGljb25BdmF0YXJFZGl0IH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcblxuaW1wb3J0IHsgRm9ybVZhbGlkYXRvciB9IGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XG5pbXBvcnQgeyBDYXJkIH0gZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkLmpzJztcbmltcG9ydCB7IFNlY3Rpb24gfSBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xuaW1wb3J0IHsgUG9wdXBOb3RpY2UgfSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwTm90aWNlLmpzJztcbmltcG9ydCB7IFBvcHVwV2l0aEltYWdlIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XG5pbXBvcnQgeyBQb3B1cFdpdGhGb3JtIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XG5pbXBvcnQgeyBBcGkgfSBmcm9tICcuLi9jb21wb25lbnRzL0FwaS5qcyc7XG5cbmNvbnN0IGFwaUZpbmRpbmdzID0ge1xuICBsaW5rOiAnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC02MC8nLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogJ2VhNmQwMjM0LWNhZDctNDg2My1hYjM1LTQwYTA4MzViYmJmOScsXG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICB9XG59O1xuXG5jb25zdCBhcGlSZWxhdGlvbnMgPSBuZXcgQXBpKGFwaUZpbmRpbmdzKTtcblxubGV0IHVzZXJJZDtcblxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xuICB1c2VybmFtZVNlbGVjdG9yOiAnLnByb2ZpbGVfX25hbWUnLFxuICB1c2VyRGVzY3JpcHRpb25TZWxlY3RvcjogJy5wcm9maWxlX19kZXNjcmlwdGlvbicsXG4gIHVzZXJBdmF0YXJTZWxlY3RvcjogJy5wcm9maWxlX19hdmF0YXInXG59KTtcblxuY29uc3QgcmVuZGVyQ2FyZCA9IGZ1bmN0aW9uIChjYXJkRWxlbWVudCkge1xuICBjb25zdCBjYXJkSXRlbSA9IG5ldyBDYXJkKGNhcmRFbGVtZW50LCAnI2NhcmQtdGVtcGxhdGUnLCB1c2VySWQsIHsgY2FyZElkOiBjYXJkRWxlbWVudC5faWQsIGF1dGhvcklkOiBjYXJkRWxlbWVudC5vd25lci5faWQsIH0sIHtcbiAgICBtYWtlQ2FyZFpvb206IChuYW1lLCBpbWFnZSkgPT4geyBwb3B1cEltYWdlQ2FyZC5vcGVuKG5hbWUsIGltYWdlKSB9LFxuICAgIG1ha2VDYXJkRGVsZXRlOiAoY2FyZEVsZW1lbnQsIGNhcmRJZCkgPT4geyBwb3B1cERlbGV0ZU5vdGljZS5vcGVuKGNhcmRFbGVtZW50LCBjYXJkSWQpIH0sXG4gICAgbWFrZUNhcmRMaWtlOiAoY2FyZElkKSA9PiB7IGFwaVJlbGF0aW9ucy5wdXRMaWtlQ2FyZChjYXJkSWQpXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICBjYXJkSXRlbS5yZW5kZXJDYXJkTGlrZShyZXMpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4geyBjb25zb2xlLmxvZyhg0J/RgNC4INC70LDQudC60LUg0LrQsNGA0YLQvtGH0LrQuCDQstC+0LfQvdC40LrQu9CwINC+0YjQuNCx0LrQsCwgJHtlcnJ9YCkgfSlcbiAgICB9LFxuICAgIG1ha2VDYXJkRGVsZXRlTGlrZTogKGNhcmRJZCkgPT4geyBhcGlSZWxhdGlvbnMuZGVsZXRlTGlrZUNhcmQoY2FyZElkKVxuICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgY2FyZEl0ZW0ucmVuZGVyQ2FyZExpa2UocmVzKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsgY29uc29sZS5sb2coYNCf0YDQuCDQtNC40LfQu9Cw0LnQutC1INC60LDRgNGC0L7Rh9C60Lgg0LLQvtC30L3QuNC60LvQsCDQvtGI0LjQsdC60LAsICR7ZXJyfWApIH0pXG4gICAgfSxcbiAgfSk7XG4gIHJldHVybiBjYXJkSXRlbS5tYWtlQ2FyZCgpO1xufVxuXG5jb25zdCByZW5kZXJJbml0aWFsQ2FyZHMgPSBuZXcgU2VjdGlvbih7XG4gIHJlbmRlcmVyOiAoY2FyZEVsZW1lbnQpID0+IHtcbiAgICByZW5kZXJJbml0aWFsQ2FyZHMuYWRkSXRlbShyZW5kZXJDYXJkKGNhcmRFbGVtZW50KSk7XG4gIH1cbn0sICcuY2FyZHMnKTtcblxuUHJvbWlzZS5hbGwoWyBhcGlSZWxhdGlvbnMuZ2V0VXNlckRhdGEoKSwgYXBpUmVsYXRpb25zLmdldEluaXRpYWxDYXJkcygpIF0pLnRoZW4oKFsgdXNlclByb2ZpbGVEYXRhLCBjYXJkRWxlbWVudCBdKSA9PiB7XG4gICAgdXNlcklkID0gdXNlclByb2ZpbGVEYXRhLl9pZDtcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh7IHVzZXJuYW1lOiB1c2VyUHJvZmlsZURhdGEubmFtZSwgZGVzY3JpcHRpb246IHVzZXJQcm9maWxlRGF0YS5hYm91dCB9KTtcbiAgICByZW5kZXJJbml0aWFsQ2FyZHMucmVuZGVySXRlbXMoY2FyZEVsZW1lbnQucmV2ZXJzZSgpKTtcbiAgICB1c2VySW5mby5zZXRVc2VyQXZhdGFyKHVzZXJQcm9maWxlRGF0YS5hdmF0YXIpO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT4geyBjb25zb2xlLmxvZyhg0JLQvtC30L3QuNC60LvQsCDQs9C70L7QsdCw0LvRjNC90LDRjyDQvtGI0LjQsdC60LAsICR7ZXJyfWApIH0pXG5cbmNvbnN0IHBvcHVwSW1hZ2VDYXJkID0gbmV3IFBvcHVwV2l0aEltYWdlKCcjcG9wdXAtaW1hZ2UnKTtcbnBvcHVwSW1hZ2VDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IHBvcHVwVXBkYXRlQXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oJyNwb3B1cC11cGRhdGUtYXZhdGFyJywge1xuICBjYWxsYmFja0Zvcm1TdWJtaXQ6ICh1c2VyUHJvZmlsZURhdGEpID0+IHsgcG9wdXBVcGRhdGVBdmF0YXIucHV0U2F2aW5nUHJvY2Vzc1RleHQoKTsgYXBpUmVsYXRpb25zLnNlbmRBdmF0YXJEYXRhKHVzZXJQcm9maWxlRGF0YSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgdXNlckluZm8uc2V0VXNlckF2YXRhcihyZXMuYXZhdGFyKTtcbiAgICAgICAgcG9wdXBVcGRhdGVBdmF0YXIuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4geyBjb25zb2xlLmxvZyhg0J/RgNC4INC+0LHQvdC+0LLQu9C10L3QuNC4INCw0LLQsNGC0LDRgNCwINCy0L7Qt9C90LjQutC70LAg0L7RiNC40LHQutCwLCAke2Vycn1gKSB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBwb3B1cFVwZGF0ZUF2YXRhci5yZXR1cm5TYXZpbmdQcm9jZXNzVGV4dCgpO1xuICAgICAgfSlcbiAgfVxufSk7XG5wb3B1cFVwZGF0ZUF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBwb3B1cERlbGV0ZU5vdGljZSA9IG5ldyBQb3B1cE5vdGljZShcIiNwb3B1cC1kZWxldGUtY2FyZFwiLCB7XG4gIGNhbGxiYWNrTm90aWNlOiAoY2FyZEVsZW1lbnQsIGNhcmRJZCkgPT4geyBhcGlSZWxhdGlvbnMuZGVsZXRlQ2FyZChjYXJkSWQpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGNhcmRFbGVtZW50LmRlbGV0ZUNhcmQoKTtcbiAgICAgICAgcG9wdXBEZWxldGVOb3RpY2UuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4geyBjb25zb2xlLmxvZyhg0J/RgNC4INGD0LTQsNC70LXQvdC40Lgg0LrQsNGA0YLQvtGH0LrQuCDQstC+0LfQvdC40LrQu9CwINC+0YjQuNCx0LrQsCwgJHtlcnJ9YCkgfSlcbiAgfVxufSk7XG5wb3B1cERlbGV0ZU5vdGljZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBwb3B1cFByb2ZpbGVFZGl0ID0gbmV3IFBvcHVwV2l0aEZvcm0oJyNwb3B1cC1lZGl0Jywge1xuICBjYWxsYmFja0Zvcm1TdWJtaXQ6ICh1c2VyUHJvZmlsZURhdGEpID0+IHsgcG9wdXBQcm9maWxlRWRpdC5wdXRTYXZpbmdQcm9jZXNzVGV4dCgpOyBhcGlSZWxhdGlvbnMuc2VuZFVzZXJEYXRhKHVzZXJQcm9maWxlRGF0YSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oeyB1c2VybmFtZTogcmVzLm5hbWUsIGRlc2NyaXB0aW9uOiByZXMuYWJvdXQgfSk7XG4gICAgICAgIHBvcHVwUHJvZmlsZUVkaXQuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4geyBjb25zb2xlLmxvZyhg0J/RgNC4INGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Lgg0L/RgNC+0YTQuNC70Y8g0LLQvtC30L3QuNC60LvQsCDQvtGI0LjQsdC60LAsICR7ZXJyfWApIH0pXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIHBvcHVwUHJvZmlsZUVkaXQucmV0dXJuU2F2aW5nUHJvY2Vzc1RleHQoKTtcbiAgICAgIH0pXG4gIH1cbn0pO1xucG9wdXBQcm9maWxlRWRpdC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBwb3B1cENhcmRBZGQgPSBuZXcgUG9wdXBXaXRoRm9ybSgnI3BvcHVwLWFkZCcsIHtcbiAgY2FsbGJhY2tGb3JtU3VibWl0OiAoZm9ybVZhbHVlcykgPT4geyBwb3B1cENhcmRBZGQucHV0U2F2aW5nUHJvY2Vzc1RleHQoKTsgYXBpUmVsYXRpb25zLmFkZE5ld0NhcmQoeyBuYW1lOiBmb3JtVmFsdWVzLnBsYWNlbmFtZSwgbGluazogZm9ybVZhbHVlcy5wbGFjZWltYWdlIH0pXG4gICAgICAudGhlbigoY2FyZCkgPT4ge1xuICAgICAgICByZW5kZXJJbml0aWFsQ2FyZHMuYWRkSXRlbShyZW5kZXJDYXJkKGNhcmQpKTtcbiAgICAgICAgcG9wdXBDYXJkQWRkLmNsb3NlKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHsgY29uc29sZS5sb2coYNCf0YDQuCDQtNC+0LHQsNCy0LvQtdC90LjQuCDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60Lgg0LLQvtC30L3QuNC60LvQsCDQvtGI0LjQsdC60LAsICR7ZXJyfWApIH0pXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIHBvcHVwQ2FyZEFkZC5yZXR1cm5TYXZpbmdQcm9jZXNzVGV4dCgpO1xuICAgICAgfSlcbiAgfVxufSk7XG5wb3B1cENhcmRBZGQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgY2FyZFZhbGlkYXRlID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlndXJhdGlvbiwgZm9ybUNhcmRzKTtcbmNhcmRWYWxpZGF0ZS5lbmFibGVWYWxpZGF0aW9uKCk7XG5jb25zdCBwcm9maWxlVmFsaWRhdGVFZGl0ID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlndXJhdGlvbiwgZm9ybVByb2ZpbGUpO1xucHJvZmlsZVZhbGlkYXRlRWRpdC5lbmFibGVWYWxpZGF0aW9uKCk7XG5jb25zdCBwcm9maWxlQXZhdGFyVmFsaWRhdGUgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWd1cmF0aW9uLCBwb3B1cEF2YXRhckVkaXRGb3JtKTtcbnByb2ZpbGVBdmF0YXJWYWxpZGF0ZS5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbnByb2ZpbGVCdXR0b25FZGl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICBwb3B1cFByb2ZpbGVFZGl0Lm9wZW4oKTtcbiAgcHJvZmlsZVZhbGlkYXRlRWRpdC5yZXNldFZhbGlkYXRpb24oKTtcbiAgY29uc3QgYWN0dWFsVXNlckluZm8gPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICBpbnB1dE5hbWUudmFsdWUgPSBhY3R1YWxVc2VySW5mby51c2VybmFtZTtcbiAgaW5wdXRKb2IudmFsdWUgPSBhY3R1YWxVc2VySW5mby5kZXNjcmlwdGlvbjtcbn0pO1xuXG5pY29uQXZhdGFyRWRpdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgcG9wdXBVcGRhdGVBdmF0YXIub3BlbigpO1xuICBwcm9maWxlQXZhdGFyVmFsaWRhdGUucmVzZXRWYWxpZGF0aW9uKCk7XG59KTtcblxucHJvZmlsZUJ1dHRvbkFkZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgcG9wdXBDYXJkQWRkLm9wZW4oKTtcbiAgY2FyZFZhbGlkYXRlLnJlc2V0VmFsaWRhdGlvbigpO1xufSk7IiwiZXhwb3J0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKHsgbGluaywgaGVhZGVycyB9KSB7XG4gICAgdGhpcy5fbGluayA9IGxpbms7XG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XG4gIH1cblxuICBfcHJvY2Vzc2luZ1NlcnZlclJlc3BvbnNlKHJlcykge1xuICAgIGlmIChyZXMub2spIHtcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNC60L7QtCDQvtGI0LjQsdC60Lg6ICR7cmVzLnN0YXR1c31gKTtcbiAgICB9XG4gIH1cblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2xpbmt9Y2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSlcbiAgICAgIC50aGVuKHJlcyA9PiB7IHJldHVybiB0aGlzLl9wcm9jZXNzaW5nU2VydmVyUmVzcG9uc2UocmVzKTsgfSlcbiAgfVxuXG4gIGFkZE5ld0NhcmQoeyBuYW1lLCBsaW5rIH0pIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fbGlua31jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbmFtZSwgbGluayB9KVxuICAgIH0pXG4gICAgICAudGhlbihyZXMgPT4geyByZXR1cm4gdGhpcy5fcHJvY2Vzc2luZ1NlcnZlclJlc3BvbnNlKHJlcyk7IH0pXG4gIH1cblxuICBkZWxldGVDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9saW5rfWNhcmRzLyR7Y2FyZElkfWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgIH0pXG4gICAgICAudGhlbihyZXMgPT4geyByZXR1cm4gdGhpcy5fcHJvY2Vzc2luZ1NlcnZlclJlc3BvbnNlKHJlcyk7IH0pXG4gIH1cbiBcbiAgZ2V0VXNlckRhdGEoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2xpbmt9dXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSlcbiAgICAgIC50aGVuKHJlcyA9PiB7IHJldHVybiB0aGlzLl9wcm9jZXNzaW5nU2VydmVyUmVzcG9uc2UocmVzKTsgfSlcbiAgfVxuXG4gIHNlbmRVc2VyRGF0YShwcm9maWxlRGF0YSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9saW5rfXVzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbmFtZTogcHJvZmlsZURhdGEudXNlcm5hbWUsIGFib3V0OiBwcm9maWxlRGF0YS5kZXNjcmlwdGlvbiB9KVxuICAgIH0pXG4gICAgICAudGhlbihyZXMgPT4geyByZXR1cm4gdGhpcy5fcHJvY2Vzc2luZ1NlcnZlclJlc3BvbnNlKHJlcyk7IH0pXG4gIH1cblxuICBzZW5kQXZhdGFyRGF0YShhdmF0YXJMaW5rKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2xpbmt9dXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgYXZhdGFyOiBhdmF0YXJMaW5rLmF2YXRhciB9KVxuICAgIH0pXG4gICAgICAudGhlbihyZXMgPT4geyByZXR1cm4gdGhpcy5fcHJvY2Vzc2luZ1NlcnZlclJlc3BvbnNlKHJlcyk7IH0pXG4gIH1cblxuICBwdXRMaWtlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fbGlua31jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICB9KVxuICAgICAgLnRoZW4ocmVzID0+IHsgcmV0dXJuIHRoaXMuX3Byb2Nlc3NpbmdTZXJ2ZXJSZXNwb25zZShyZXMpOyB9KVxuICB9XG4gXG4gIGRlbGV0ZUxpa2VDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9saW5rfWNhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgIH0pXG4gICAgICAudGhlbihyZXMgPT4geyByZXR1cm4gdGhpcy5fcHJvY2Vzc2luZ1NlcnZlclJlc3BvbnNlKHJlcyk7IH0pXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJwcm9maWxlQnV0dG9uRWRpdCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInByb2ZpbGVCdXR0b25BZGQiLCJwb3B1cEVkaXQiLCJmb3JtUHJvZmlsZSIsImZvcm1DYXJkcyIsImlucHV0TmFtZSIsImlucHV0Sm9iIiwicG9wdXBBdmF0YXJFZGl0Rm9ybSIsImljb25BdmF0YXJFZGl0IiwiY29uZmlndXJhdGlvbiIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiRm9ybVZhbGlkYXRvciIsInZhbGlkYXRpb25TZXR0aW5ncyIsImZvcm1FbGVtZW50IiwidGhpcyIsIl92YWxpZGF0aW9uU2V0dGluZ3MiLCJfZm9ybUVsZW1lbnQiLCJfc3VibWl0QnV0dG9uIiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpdGVtSW5wdXQiLCJlcnJvck1lc3NhZ2UiLCJpdGVtRXJyb3IiLCJpZCIsImNsYXNzTGlzdCIsImFkZCIsInRleHRDb250ZW50IiwicmVtb3ZlIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlRXJyb3IiLCJfc2hvd0Vycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJmb3JFYWNoIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9jaGVja1ZhbGlkaXR5SW5wdXQiLCJzb21lIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiX2hhc0ludmFsaWRJbnB1dCIsIl9kaXNhYmxlU3VibWl0QnV0dG9uIiwiX2VuYWJsZVN1Ym1pdEJ1dHRvbiIsIl9zZXRFdmVudExpc3RlbmVycyIsIkNhcmQiLCJjYXJkRWxlbWVudCIsImVsZW1lbnRUZW1wbGF0ZSIsInVzZXJJZCIsImF1dGhvckRhdGEiLCJoYW5kbGVBY3Rpb25zIiwiX2xpa2VJY29uIiwiX2ludGVyYWN0TGlrZSIsIl9lbGVtZW50SW1hZ2VzIiwiX2NhcmRab29tIiwiX2NhcmROYW1lIiwiX2NhcmRJbWFnZSIsIl91c2VySWQiLCJfYXV0aG9ySWQiLCJfZGVsZXRlSWNvbiIsIl9jYXJkRGVsZXRlIiwiX2NhcmRJZCIsIl9jYXJkIiwibmFtZSIsImxpbmsiLCJfY2FyZFRlbXBsYXRlIiwiY2FyZElkIiwiYXV0aG9ySWQiLCJtYWtlQ2FyZFpvb20iLCJtYWtlQ2FyZERlbGV0ZSIsIl9wdXRMaWtlIiwibWFrZUNhcmRMaWtlIiwiX3JlbW92ZUxpa2UiLCJtYWtlQ2FyZERlbGV0ZUxpa2UiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2NhcmRFbGVtZW50IiwiY2FyZCIsIl9saWtlQXJlYSIsImxpa2VzIiwibGVuZ3RoIiwibGlrZVNlbGVjdG9yIiwiX2xpa2VkQ2FyZCIsImZpbmQiLCJ1c2VyTGlrZSIsIl9pZCIsIl9jcmVhdGVDYXJkIiwiX2VsZW1lbnROYW1lIiwic3JjIiwiYWx0IiwicmVuZGVyQ2FyZExpa2UiLCJfYWRkRXZlbnRIYW5kbGVycyIsIlNlY3Rpb24iLCJzZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsInJlcyIsInByZXBlbmQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJldnQiLCJrZXkiLCJjbG9zZSIsIl9wb3B1cEl0ZW0iLCJfaGFuZGxlRXNjQ2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cE5vdGljZSIsImNhbGxiYWNrTm90aWNlIiwiX2NhbGxiYWNrTm90aWNlIiwiX2NhcmRPYmplY3QiLCJwcmV2ZW50RGVmYXVsdCIsIlBvcHVwV2l0aEltYWdlIiwiX3BvcHVwRGVzY3JpcHRpb24iLCJfcG9wdXBJbWFnZSIsImRlc2NyaXB0aW9uIiwiaW1hZ2UiLCJQb3B1cFdpdGhGb3JtIiwiY2FsbGJhY2tGb3JtU3VibWl0IiwiX2NhbGxiYWNrRm9ybVN1Ym1pdCIsIl9wb3B1cEZvcm1JdGVtIiwiX3NlbmRCdXR0b24iLCJfc2VuZEJ1dHRvblRleHQiLCJmb3JtVmFsdWVzIiwidmFsdWUiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsIlVzZXJJbmZvIiwidXNlcm5hbWVTZWxlY3RvciIsInVzZXJEZXNjcmlwdGlvblNlbGVjdG9yIiwidXNlckF2YXRhclNlbGVjdG9yIiwiX3VzZXJuYW1lIiwiX3VzZXJEZXNjcmlwdGlvbiIsIl9hdmF0YXJMaW5rIiwidXNlcm5hbWUiLCJhdmF0YXJMaW5rIiwiYXBpUmVsYXRpb25zIiwiaGVhZGVycyIsIl9saW5rIiwiX2hlYWRlcnMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZmV0Y2giLCJ0aGVuIiwiX3Byb2Nlc3NpbmdTZXJ2ZXJSZXNwb25zZSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicHJvZmlsZURhdGEiLCJhYm91dCIsImF2YXRhciIsImF1dGhvcml6YXRpb24iLCJ1c2VySW5mbyIsInJlbmRlckNhcmQiLCJjYXJkSXRlbSIsIm93bmVyIiwicG9wdXBJbWFnZUNhcmQiLCJvcGVuIiwicG9wdXBEZWxldGVOb3RpY2UiLCJwdXRMaWtlQ2FyZCIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImRlbGV0ZUxpa2VDYXJkIiwibWFrZUNhcmQiLCJyZW5kZXJJbml0aWFsQ2FyZHMiLCJhZGRJdGVtIiwiYWxsIiwiZ2V0VXNlckRhdGEiLCJnZXRJbml0aWFsQ2FyZHMiLCJ1c2VyUHJvZmlsZURhdGEiLCJzZXRVc2VySW5mbyIsInJlbmRlckl0ZW1zIiwicmV2ZXJzZSIsInNldFVzZXJBdmF0YXIiLCJzZXRFdmVudExpc3RlbmVycyIsInBvcHVwVXBkYXRlQXZhdGFyIiwicHV0U2F2aW5nUHJvY2Vzc1RleHQiLCJzZW5kQXZhdGFyRGF0YSIsImZpbmFsbHkiLCJyZXR1cm5TYXZpbmdQcm9jZXNzVGV4dCIsImRlbGV0ZUNhcmQiLCJwb3B1cFByb2ZpbGVFZGl0Iiwic2VuZFVzZXJEYXRhIiwicG9wdXBDYXJkQWRkIiwiYWRkTmV3Q2FyZCIsInBsYWNlbmFtZSIsInBsYWNlaW1hZ2UiLCJjYXJkVmFsaWRhdGUiLCJlbmFibGVWYWxpZGF0aW9uIiwicHJvZmlsZVZhbGlkYXRlRWRpdCIsInByb2ZpbGVBdmF0YXJWYWxpZGF0ZSIsInJlc2V0VmFsaWRhdGlvbiIsImFjdHVhbFVzZXJJbmZvIiwiZ2V0VXNlckluZm8iXSwic291cmNlUm9vdCI6IiJ9