(()=>{"use strict";var t=document.querySelector(".profile__title"),e=document.querySelector(".profile__subtitle"),n=document.querySelector(".profile__block-avatar"),r=document.querySelector(".profile__avatar"),o=document.querySelector(".popup__container"),i=o.querySelector(".popup__input_type_name"),u=o.querySelector(".popup__input_type_profession"),l=document.querySelector(".profile__button-add"),a=document.querySelector(".profile__button-edit"),c=document.querySelector(".popup_edit"),s=document.querySelector(".popup_add"),f=document.querySelector(".popup_update"),p={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==y(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===y(o)?o:String(o)),r)}var o}var d=function(){function t(e,n){var r=e.item,o=e.handleCardClick,i=e.handleCardDelete,u=e.handleLiked,l=e.handleLikedDelete,a=e.idUser;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=r.name,this._link=r.link,this._likes=r.likes,this._cardId=r,this._templateSelector=n,this._handleCardClick=o,this._userId=a,this._handleCardDelete=i,this._handleLiked=u,this._handleLikedDelete=l}var e,n;return e=t,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".gallery__item").cloneNode(!0)}},{key:"generateCard",value:function(){var t=this;return this._element=this._getTemplate(),this._cardId.owner._id!==this._userId&&this._element.querySelector(".gallery__button-remove").remove(),this._cardId.owner._id===this._userId&&this._element.setAttribute("data-id",this._cardId._id),this._elementImg=this._element.querySelector(".gallery__picture"),this._elementLikeCount=this._element.querySelector(".gallery__like-count"),this._element.querySelector(".gallery__title").textContent=this._name,this._elementImg.src=this._link,this._elementImg.alt=this._name,this._likes.forEach((function(e){e._id===t._userId&&t._element.querySelector(".gallery__button").classList.toggle("gallery__button_active")})),this._elementLikeCount.textContent=this._likes.length,this._setEventListeners(),this._element}},{key:"_handleClickOpenPopup",value:function(){this._handleCardClick()}},{key:"_handleClickDeleteCard",value:function(t,e){this._handleCardDelete(t,e)}},{key:"_handleClickLikeCard",value:function(){var t=this;this._handleLiked(this._cardId._id).then((function(e){t._elementLike.classList.toggle("gallery__button_active")?t._elementLikeCount.textContent=e.likes.length:t._handleLikedDelete(t._cardId._id).then((function(e){t._elementLikeCount.textContent=e.likes.length}))}))}},{key:"_setEventListeners",value:function(){var t=this;this._elementLike=this._element.querySelector(".gallery__button"),this._elementImg.addEventListener("click",(function(){t._handleClickOpenPopup()})),this._cardId.owner._id===this._userId&&this._element.querySelector(".gallery__button-remove").addEventListener("click",(function(){t._handleClickDeleteCard(t._cardId._id,t._element)})),this._elementLike.addEventListener("click",(function(){t._handleClickLikeCard()}))}}])&&h(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g(r.key),r)}}function b(t,e,n){return e&&m(t.prototype,e),n&&m(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function v(t,e,n){return(e=g(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t){var e=function(t,e){if("object"!==_(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===_(e)?e:String(e)}var S=b((function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),v(this,"_hideInputError",(function(t){t.classList.remove(r._inputErrorClass)})),v(this,"_showInputError",(function(t,e){var n=r._formElement.querySelector(".".concat(t.id,"-error"));n.classList.add(r._errorClass),n.textContent=e,t.classList.add(r._inputErrorClass)})),v(this,"_checkValidityInput",(function(t){t.validity.valid?r._hideInputError(t):r._showInputError(t,t.validationMessage)})),v(this,"_hasInvalidInput",(function(){return r._inputList.some((function(t){return!t.validity.valid}))})),v(this,"_disabledButton",(function(){r._buttonElement.classList.add(r._inactiveButtonClass),r._buttonElement.disabled=!0})),v(this,"_enableButton",(function(){r._buttonElement.classList.remove(r._inactiveButtonClass),r._buttonElement.disabled=!1})),v(this,"_toggleButtonState",(function(){r._hasInvalidInput(r._inputList)?r._disabledButton():r._enableButton()})),v(this,"_setEventListeners",(function(){r._inputList.forEach((function(t){t.addEventListener("input",(function(){r._checkValidityInput(t),r._toggleButtonState(r._inputList,r._buttonElement)}))}))})),v(this,"resetValidation",(function(){r._disabledButton(),r._inputList.forEach((function(t){r._hideInputError(t)}))})),v(this,"enableValidation",(function(){r._setEventListeners()})),this._formElement=n,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._errorClass=e.errorClass,this._inputErrorClass=e.inputErrorClass,this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector)}));function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==k(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===k(o)?o:String(o)),r)}var o}var E=function(){function t(e,n){var r=e.items,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._initialArray=r,this._renderer=o,this._container=document.querySelector(n)}var e,n;return e=t,(n=[{key:"renderItems",value:function(){var t=this;this._initialArray.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(t){this._container.prepend(t)}}])&&w(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==C(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===C(o)?o:String(o)),r)}var o}var P=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=document.querySelector(e),this._button=this._popup.querySelector(".popup__close"),this._handleEscClose=this._handleEscClose.bind(this),this._handleClickOverlay=this._handleClickOverlay.bind(this)}var e,n;return e=t,(n=[{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"_handleClickOverlay",value:function(t){t.target==t.currentTarget&&this.close()}},{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var t=this;this._button.addEventListener("click",(function(){return t.close()})),this._popup.addEventListener("click",this._handleClickOverlay)}}])&&O(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==j(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===j(o)?o:String(o)),r)}var o}function I(){return I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=R(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},I.apply(this,arguments)}function T(t,e){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},T(t,e)}function R(t){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},R(t)}var q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=R(r);if(o){var n=R(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===j(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._popupImg=e._popup.querySelector(".popup__img"),e._popupText=e._popup.querySelector(".popup__figure-caption"),e}return e=u,(n=[{key:"open",value:function(t){var e=t.name,n=t.link;this._popupImg.alt=e,this._popupImg.src=n,this._popupText.textContent=e,I(R(u.prototype),"open",this).call(this)}}])&&L(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(P);function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function D(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==B(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===B(o)?o:String(o)),r)}var o}function A(){return A="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=V(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},A.apply(this,arguments)}function x(t,e){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},x(t,e)}function V(t){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},V(t)}var U=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=V(r);if(o){var n=V(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===B(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n,r=e.handleFormSubmit;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._handleFormSubmit=r,n._popupForm=n._popup.querySelector(".popup__form"),n._submitButton=n._popupForm.querySelector(".popup__button"),n._inputList=n._popup.querySelectorAll(".popup__input"),n}return e=u,(n=[{key:"_getInputValues",value:function(){var t=this;return this._formValues={},this._inputList.forEach((function(e){t._formValues[e.name]=e.value})),this._formValues}},{key:"close",value:function(){A(V(u.prototype),"close",this).call(this),this._popupForm.reset()}},{key:"setEventListeners",value:function(){var t=this;A(V(u.prototype),"setEventListeners",this).call(this),this._popupForm.addEventListener("submit",(function(e){e.preventDefault();var n=t._submitButton.textContent;t._submitButton.textContent="Сохранение...",t._handleFormSubmit(t._getInputValues()).then((function(){return t.close()})).finally((function(){t._submitButton.textContent=n}))}))}}])&&D(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(P);function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==F(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===F(o)?o:String(o)),r)}var o}function N(){return N="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=H(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},N.apply(this,arguments)}function J(t,e){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},J(t,e)}function H(t){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},H(t)}var M=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=H(r);if(o){var n=H(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===F(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._formPopup=n._popup.querySelector(".popup__form"),n._handleCardDelete=e,n}return e=u,(n=[{key:"open",value:function(t,e){this._cardId=t,this._cardDelete=e,N(H(u.prototype),"open",this).call(this)}},{key:"setEventListeners",value:function(){var t=this;this._formPopup.addEventListener("submit",(function(e){e.preventDefault(),t._handleCardDelete(t._cardId,t._cardDelete)})),N(H(u.prototype),"setEventListeners",this).call(this)}}])&&z(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(P);function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==$(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===$(o)?o:String(o)),r)}var o}var K,Q,W=function(){function t(e){var n=e.profileTitle,r=e.profileSubtitle,o=e.profileAvatar;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._profileAuthor=n,this._profileProfession=r,this._profileAvatar=o}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{getName:this._profileAuthor.textContent,getProfession:this._profileProfession.textContent}}},{key:"setUserInfo",value:function(t,e,n){this._profileAuthor.textContent=t,this._profileProfession.textContent=e,this._profileAvatar.src=n}}])&&G(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function X(t){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X(t)}function Y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==X(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==X(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===X(o)?o:String(o)),r)}var o}function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tt=new(function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._url=e,this._token=n}var e,n;return e=t,(n=[{key:"_checkResponse",value:function(t){return t.ok?t.json():Promise.reject("Ошибка: ".concat(t.status))}},{key:"getInitialCards",value:function(){return fetch("".concat(this._url,"/cards"),{headers:{authorization:this._token}}).then(this._checkResponse).then((function(t){return t}))}},{key:"updateEditProfile",value:function(t,e){return fetch("".concat(this._url,"/users/me"),{method:t,headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:e.firstname,about:e.profession})}).then(this._checkResponse).then((function(t){return t}))}},{key:"getUserInfoProfile",value:function(){return fetch("".concat(this._url,"/users/me"),{headers:{authorization:this._token}}).then(this._checkResponse).then((function(t){return t}))}},{key:"sendNewCard",value:function(t,e){return fetch("".concat(this._url,"/cards"),{method:t,headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:e.name,link:e.link})}).then(this._checkResponse).then((function(t){return t}))}},{key:"deleteCard",value:function(t,e){return fetch("".concat(this._url,"/cards/").concat(e),{method:t,headers:{authorization:this._token}}).then(this._checkResponse).then((function(t){return t}))}},{key:"liking",value:function(t,e){return fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{method:t,headers:{authorization:this._token,"Content-Type":"application/json"}}).then(this._checkResponse).then((function(t){return t}))}},{key:"deleteLiking",value:function(t,e){return fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{method:t,headers:{authorization:this._token}}).then(this._checkResponse).then((function(t){return t}))}},{key:"updateAvatar",value:function(t,e){return fetch("".concat(this._url,"/users/me/avatar"),{method:t,headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({avatar:e.avatar})}).then(this._checkResponse).then((function(t){return t}))}}])&&Y(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}())("https://mesto.nomoreparties.co/v1/cohort-60","ea6d0234-cad7-4863-ab35-40a0835bbbf9"),et=new q(".popup_open-image");et.setEventListeners();var nt=new M(".popup_delete",(function(t,e){tt.deleteCard("DELETE",t).then((function(){e.remove(),nt.close()})).catch((function(t){console.log(t)}))}));nt.setEventListeners();var rt=new W({profileTitle:t,profileSubtitle:e,profileAvatar:r});Promise.all([tt.getUserInfoProfile(),tt.getInitialCards()]).then((function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,u,l=[],a=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{if(!a&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return l}}(e,n)||function(t,e){if(t){if("string"==typeof t)return Z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];rt.setUserInfo(o.name,o.about,o.avatar),K=o._id,(Q=new E({items:i,renderer:function(t){var e=it(t,o._id);Q.addItem(e)}},".gallery")).renderItems()})).catch((function(t){console.log(t)}));var ot=new U(".popup_add",{handleFormSubmit:function(t){return tt.sendNewCard("POST",t).then((function(t){var e=it(t,K);Q.addItem(e),ot.close()})).catch((function(t){console.log(t)}))}});ot.setEventListeners();var it=function(t,e){return new d({item:t,handleCardClick:function(){et.open({name:t.name,link:t.link})},handleLiked:function(t){return tt.liking("PUT",t)},handleCardDelete:function(t,e){nt.open(t,e)},handleLikedDelete:function(t){return tt.deleteLiking("DELETE",t)},idUser:e},"#gallery").generateCard()},ut=new U(".popup_edit",{handleFormSubmit:function(t){return tt.updateEditProfile("PATCH",t).then((function(t){rt.setUserInfo(t.name,t.about,t.avatar),ut.close()})).catch((function(t){console.log(t)}))}});ut.setEventListeners();var lt=new U(".popup_update",{handleFormSubmit:function(t){return tt.updateAvatar("PATCH",t).then((function(t){lt.setEventListeners(t),rt.setUserInfo(t.name,t.about,t.avatar),lt.close()})).catch((function(t){console.log(t)}))}});lt.setEventListeners(),l.addEventListener("click",(function(){ct.resetValidation(),ot.open()})),a.addEventListener("click",(function(){var t;t=rt.getUserInfo(),i.value=t.getName,u.value=t.getProfession,at.resetValidation(),ut.open()})),n.addEventListener("click",(function(){st.resetValidation(),lt.open()}));var at=new S(p,c);at.enableValidation();var ct=new S(p,s);ct.enableValidation();var st=new S(p,f);st.enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q2dFLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSUYsRUFDZCxHQUNKLElBRUYwQixHQUFrQjlCLG9CQWVsQjVLLEVBQWlCMEQsaUJBQWlCLFNBQVMsV0F4RHpDb0osR0FBaUJDLGtCQUNqQmpCLEdBQXdCSyxNQXlEMUIsSUFFQWxNLEVBQWtCeUQsaUJBQWlCLFNBQVMsV0FqQmIsSUFDdkJzSixJQUFXN0IsR0FBUzhCLGNBQzFCbk4sRUFBVStILE1BQVFtRixFQUFTcEUsUUFDM0I3SSxFQUFTOEgsTUFBUW1GLEVBQVNuRSxjQUMxQnFFLEdBQWlCSCxrQkFDakJSLEdBQXdCSixNQWMxQixJQUVBeE0sRUFBbUIrRCxpQkFBaUIsU0FBUyxXQVozQ3lKLEdBQXVCSixrQkFDdkJMLEdBQWtCUCxNQWFwQixJQUVBLElBQU1lLEdBQW1CLElBQUlwSixFQUFjekQsRUFBZUgsR0FDMURnTixHQUFpQkUsbUJBRWpCLElBQU1OLEdBQW1CLElBQUloSixFQUFjekQsRUFBZUYsR0FDMUQyTSxHQUFpQk0sbUJBRWpCLElBQU1ELEdBQXlCLElBQUlySixFQUFjekQsRUFBZUQsR0FDaEUrTSxHQUF1QkMsa0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwRGVsZXRlQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBwcm9maWxlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fdGl0bGUnKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlU3VidGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fc3VidGl0bGUnKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlQmxvY2tBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYmxvY2stYXZhdGFyJyk7XG5leHBvcnQgY29uc3QgcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXInKTtcbmV4cG9ydCBjb25zdCBwb3B1cENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY29udGFpbmVyJyk7XG5leHBvcnQgY29uc3QgaW5wdXROYW1lID0gcG9wdXBDb250YWluZXIucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF90eXBlX25hbWUnKTtcbmV4cG9ydCBjb25zdCBpbnB1dEpvYiA9IHBvcHVwQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfdHlwZV9wcm9mZXNzaW9uJyk7XG5leHBvcnQgY29uc3QgcHJvZmlsZUJ1dHRvbkFkZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19idXR0b24tYWRkJyk7XG5leHBvcnQgY29uc3QgcHJvZmlsZUJ1dHRvbkVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYnV0dG9uLWVkaXQnKTtcbmV4cG9ydCBjb25zdCBwb3B1cEVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfZWRpdCcpO1xuZXhwb3J0IGNvbnN0IHBvcHVwQWRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX2FkZCcpO1xuZXhwb3J0IGNvbnN0IHBvcHVwVXBkYXRlQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3VwZGF0ZScpO1xuXG5leHBvcnQgY29uc3QgY29uZmlndXJhdGlvbiA9IHtcbiAgZm9ybVNlbGVjdG9yOiAnLnBvcHVwX19mb3JtJyxcbiAgaW5wdXRTZWxlY3RvcjogJy5wb3B1cF9faW5wdXQnLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5wb3B1cF9fYnV0dG9uJyxcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19idXR0b25fZGlzYWJsZWQnLFxuICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXRfdHlwZV9lcnJvcicsXG4gIGVycm9yQ2xhc3M6ICdwb3B1cF9fZXJyb3JfdmlzaWJsZSdcbn07XG5cbiIsImV4cG9ydCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoXG4gICAge1xuICAgICAgaXRlbSxcbiAgICAgIGhhbmRsZUNhcmRDbGljayxcbiAgICAgIGhhbmRsZUNhcmREZWxldGUsXG4gICAgICBoYW5kbGVMaWtlZCxcbiAgICAgIGhhbmRsZUxpa2VkRGVsZXRlLFxuICAgICAgaWRVc2VyLFxuICAgIH0sXG4gICAgdGVtcGxhdGVTZWxlY3RvclxuICApIHtcbiAgICB0aGlzLl9uYW1lID0gaXRlbS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBpdGVtLmxpbms7XG4gICAgdGhpcy5fbGlrZXMgPSBpdGVtLmxpa2VzO1xuICAgIHRoaXMuX2NhcmRJZCA9IGl0ZW07XG4gICAgdGhpcy5fdGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIHRoaXMuX3VzZXJJZCA9IGlkVXNlcjtcbiAgICB0aGlzLl9oYW5kbGVDYXJkRGVsZXRlID0gaGFuZGxlQ2FyZERlbGV0ZTtcbiAgICB0aGlzLl9oYW5kbGVMaWtlZCA9IGhhbmRsZUxpa2VkO1xuICAgIHRoaXMuX2hhbmRsZUxpa2VkRGVsZXRlID0gaGFuZGxlTGlrZWREZWxldGU7XG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGVTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5X19pdGVtJylcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XG4gIH1cblxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgXG4gICAgaWYgKHRoaXMuX2NhcmRJZC5vd25lci5faWQgIT09IHRoaXMuX3VzZXJJZCkge1xuICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FsbGVyeV9fYnV0dG9uLXJlbW92ZScpLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9jYXJkSWQub3duZXIuX2lkID09PSB0aGlzLl91c2VySWQpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLWlkJywgdGhpcy5fY2FyZElkLl9pZCk7XG4gICAgfVxuXG4gICAgdGhpcy5fZWxlbWVudEltZyA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmdhbGxlcnlfX3BpY3R1cmUnKTtcbiAgICB0aGlzLl9lbGVtZW50TGlrZUNvdW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FsbGVyeV9fbGlrZS1jb3VudCcpO1xuXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FsbGVyeV9fdGl0bGUnKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fZWxlbWVudEltZy5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2VsZW1lbnRJbWcuYWx0ID0gdGhpcy5fbmFtZTtcblxuICAgIHRoaXMuX2xpa2VzLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgIGlmIChlbGVtLl9pZCA9PT0gdGhpcy5fdXNlcklkKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRcbiAgICAgICAgICAucXVlcnlTZWxlY3RvcignLmdhbGxlcnlfX2J1dHRvbicpXG4gICAgICAgICAgLmNsYXNzTGlzdC50b2dnbGUoJ2dhbGxlcnlfX2J1dHRvbl9hY3RpdmUnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuX2VsZW1lbnRMaWtlQ291bnQudGV4dENvbnRlbnQgPVxuICAgICAgdGhpcy5fbGlrZXMubGVuZ3RoO1xuXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG5cbiAgX2hhbmRsZUNsaWNrT3BlblBvcHVwKCkge1xuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljaygpO1xuICB9XG5cbiAgX2hhbmRsZUNsaWNrRGVsZXRlQ2FyZChjYXJkSWQsIGVsZW1lbnRDYXJkKSB7XG4gICAgdGhpcy5faGFuZGxlQ2FyZERlbGV0ZShjYXJkSWQsIGVsZW1lbnRDYXJkKTtcbiAgfVxuXG4gIF9oYW5kbGVDbGlja0xpa2VDYXJkKCkge1xuICAgIHRoaXMuX2hhbmRsZUxpa2VkKHRoaXMuX2NhcmRJZC5faWQpLnRoZW4oKHJlcykgPT4ge1xuICAgICAgaWYgKHRoaXMuX2VsZW1lbnRMaWtlLmNsYXNzTGlzdC50b2dnbGUoJ2dhbGxlcnlfX2J1dHRvbl9hY3RpdmUnKSkge1xuICAgICAgICB0aGlzLl9lbGVtZW50TGlrZUNvdW50LnRleHRDb250ZW50ID1cbiAgICAgICAgICByZXMubGlrZXMubGVuZ3RoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5faGFuZGxlTGlrZWREZWxldGUodGhpcy5fY2FyZElkLl9pZCkudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgdGhpcy5fZWxlbWVudExpa2VDb3VudC50ZXh0Q29udGVudCA9XG4gICAgICAgICAgICByZXMubGlrZXMubGVuZ3RoO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9lbGVtZW50TGlrZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmdhbGxlcnlfX2J1dHRvbicpO1xuXG4gICAgdGhpcy5fZWxlbWVudEltZy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNsaWNrT3BlblBvcHVwKCk7XG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy5fY2FyZElkLm93bmVyLl9pZCA9PT0gdGhpcy5fdXNlcklkKSB7XG4gICAgICB0aGlzLl9lbGVtZW50XG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKCcuZ2FsbGVyeV9fYnV0dG9uLXJlbW92ZScpXG4gICAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICB0aGlzLl9oYW5kbGVDbGlja0RlbGV0ZUNhcmQodGhpcy5fY2FyZElkLl9pZCwgdGhpcy5fZWxlbWVudCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuX2VsZW1lbnRMaWtlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlQ2xpY2tMaWtlQ2FyZCgpO1xuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IGNvbmZpZy5lcnJvckNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IGNvbmZpZy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gIH1cblxuICBfaGlkZUlucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgfTtcblxuICBfc2hvd0lucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpID0+IHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gIH07XG5cbiAgX2NoZWNrVmFsaWRpdHlJbnB1dCA9IChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICBpZiAoaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XG4gICAgfVxuICB9O1xuXG4gIF9oYXNJbnZhbGlkSW5wdXQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9O1xuXG4gIF9kaXNhYmxlZEJ1dHRvbiA9ICgpID0+IHtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XG4gIH07XG5cbiAgX2VuYWJsZUJ1dHRvbiA9ICgpID0+IHtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xuICB9O1xuXG4gIF90b2dnbGVCdXR0b25TdGF0ZSA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KHRoaXMuX2lucHV0TGlzdCkpIHtcbiAgICAgIHRoaXMuX2Rpc2FibGVkQnV0dG9uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2VuYWJsZUJ1dHRvbigpO1xuICAgIH1cbiAgfTtcblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja1ZhbGlkaXR5SW5wdXQoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUodGhpcy5faW5wdXRMaXN0LCB0aGlzLl9idXR0b25FbGVtZW50KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHJlc2V0VmFsaWRhdGlvbiA9ICgpID0+IHtcbiAgICB0aGlzLl9kaXNhYmxlZEJ1dHRvbigpO1xuXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9KTtcbiAgfTtcbiAgXG4gIGVuYWJsZVZhbGlkYXRpb24gPSAoKSA9PiB7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfTtcbn1cbiIsImV4cG9ydCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9pbml0aWFsQXJyYXkgPSBpdGVtcztcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICB9O1xuXG4gIC8vIHJlbmRlckl0ZW1zKCkge1xuICAvLyAgIHRoaXMuX2luaXRpYWxBcnJheS5tYXAoKHJlcykgPT4ge1xuICAvLyAgICAgICB0aGlzLl9yZW5kZXJlcihyZXMpXG4gIC8vICAgfSlcbiAgLy8gfVxuICByZW5kZXJJdGVtcygpIHtcbiAgICB0aGlzLl9pbml0aWFsQXJyYXkuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7IFxuICAgIH0pXG4gIH1cbiAgXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihzZWxlY3RvclBvcHVwKSB7XG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yUG9wdXApO1xuICAgIHRoaXMuX2J1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2xvc2UnKTtcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5faGFuZGxlQ2xpY2tPdmVybGF5ID0gdGhpcy5faGFuZGxlQ2xpY2tPdmVybGF5LmJpbmQodGhpcyk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZUNsaWNrT3ZlcmxheShldnQpIHtcbiAgICBpZiAoZXZ0LnRhcmdldCA9PSBldnQuY3VycmVudFRhcmdldCkge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmNsb3NlKCkpO1xuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2xpY2tPdmVybGF5KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tICcuL1BvcHVwJztcblxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihzZWxlY3RvclBvcHVwKSB7XG4gICAgc3VwZXIoc2VsZWN0b3JQb3B1cCk7XG4gICAgdGhpcy5fcG9wdXBJbWcgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltZycpO1xuICAgIHRoaXMuX3BvcHVwVGV4dCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZmlndXJlLWNhcHRpb24nKTtcbiAgfVxuXG4gIG9wZW4oeyBuYW1lLCBsaW5rIH0pIHtcbiAgICB0aGlzLl9wb3B1cEltZy5hbHQgPSBuYW1lO1xuICAgIHRoaXMuX3BvcHVwSW1nLnNyYyA9IGxpbms7XG4gICAgdGhpcy5fcG9wdXBUZXh0LnRleHRDb250ZW50ID0gbmFtZTtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSAnLi9Qb3B1cCc7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihzZWxlY3RvclBvcHVwLCB7IGhhbmRsZUZvcm1TdWJtaXQgfSkge1xuICAgIHN1cGVyKHNlbGVjdG9yUG9wdXApO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2J1dHRvbicpO1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9faW5wdXQnKTtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XG5cbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9wb3B1cEZvcm0ucmVzZXQoKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgaW5pdGlhbFRleHQgPSB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQ7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nO1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKVxuICAgICAgICAudGhlbigoKSA9PiB0aGlzLmNsb3NlKCkpIFxuICAgICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gaW5pdGlhbFRleHQ7XG4gICAgICAgIH0pOyBcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tICcuL1BvcHVwJztcblxuZXhwb3J0IGNsYXNzIFBvcHVwRGVsZXRlQ2FyZCBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3JQb3B1cCwgaGFuZGxlQ2FyZERlbGV0ZSkge1xuICAgIHN1cGVyKHNlbGVjdG9yUG9wdXApO1xuICAgIHRoaXMuX2Zvcm1Qb3B1cCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xuICAgIHRoaXMuX2hhbmRsZUNhcmREZWxldGUgPSBoYW5kbGVDYXJkRGVsZXRlO1xuICB9XG5cbiAgb3BlbihjYXJkSWQsIGNhcmREZWxldGUpIHtcbiAgICB0aGlzLl9jYXJkSWQgPSBjYXJkSWQ7XG4gICAgdGhpcy5fY2FyZERlbGV0ZSA9IGNhcmREZWxldGU7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fZm9ybVBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlQ2FyZERlbGV0ZSh0aGlzLl9jYXJkSWQsIHRoaXMuX2NhcmREZWxldGUpO1xuICAgIH0pO1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHsgcHJvZmlsZVRpdGxlLCBwcm9maWxlU3VidGl0bGUsIHByb2ZpbGVBdmF0YXIgfSkge1xuICAgIHRoaXMuX3Byb2ZpbGVBdXRob3IgPSBwcm9maWxlVGl0bGU7XG4gICAgdGhpcy5fcHJvZmlsZVByb2Zlc3Npb24gPSBwcm9maWxlU3VidGl0bGU7XG4gICAgdGhpcy5fcHJvZmlsZUF2YXRhciA9IHByb2ZpbGVBdmF0YXI7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICBjb25zdCBnZXROYW1lID0gdGhpcy5fcHJvZmlsZUF1dGhvci50ZXh0Q29udGVudDtcbiAgICBjb25zdCBnZXRQcm9mZXNzaW9uID0gdGhpcy5fcHJvZmlsZVByb2Zlc3Npb24udGV4dENvbnRlbnQ7XG5cbiAgICByZXR1cm4geyBnZXROYW1lLCBnZXRQcm9mZXNzaW9uIH07XG4gIH1cblxuICBzZXRVc2VySW5mbyhhdXRvciwgcHJvZmVzc2lvbiwgYXZhdGFyKSB7XG4gICAgdGhpcy5fcHJvZmlsZUF1dGhvci50ZXh0Q29udGVudCA9IGF1dG9yO1xuICAgIHRoaXMuX3Byb2ZpbGVQcm9mZXNzaW9uLnRleHRDb250ZW50ID0gcHJvZmVzc2lvbjtcbiAgICB0aGlzLl9wcm9maWxlQXZhdGFyLnNyYyA9IGF2YXRhcjtcbiAgfVxufVxuIiwiaW1wb3J0ICcuL2luZGV4LmNzcyc7XG5pbXBvcnQge1xuICBjb25maWd1cmF0aW9uLFxuICBwcm9maWxlVGl0bGUsXG4gIHByb2ZpbGVTdWJ0aXRsZSxcbiAgcHJvZmlsZUJsb2NrQXZhdGFyLFxuICBwcm9maWxlQXZhdGFyLFxuICBpbnB1dE5hbWUsXG4gIGlucHV0Sm9iLFxuICBwcm9maWxlQnV0dG9uQWRkLFxuICBwb3B1cEVkaXQsXG4gIHBvcHVwQWRkLFxuICBwb3B1cFVwZGF0ZUF2YXRhcixcbiAgcHJvZmlsZUJ1dHRvbkVkaXQsXG59IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7XG5cbmltcG9ydCB7IENhcmQgfSBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuanMnO1xuaW1wb3J0IHsgRm9ybVZhbGlkYXRvciB9IGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XG5pbXBvcnQgeyBTZWN0aW9uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcbmltcG9ydCB7IFBvcHVwV2l0aEltYWdlIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XG5pbXBvcnQgeyBQb3B1cFdpdGhGb3JtIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcbmltcG9ydCB7IFBvcHVwRGVsZXRlQ2FyZCB9IGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBEZWxldGVDYXJkLmpzJztcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XG5pbXBvcnQgeyBBcGkgfSBmcm9tICcuLi9jb21wb25lbnRzL0FwaS5qcyc7XG5cbmxldCBpZFVzZXI7XG5sZXQgc2VjdGlvbkdhbGxlcnk7XG5cbmNvbnN0IGFwaSA9IG5ldyBBcGkoXG4gICdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTYwJyxcbiAgJ2VhNmQwMjM0LWNhZDctNDg2My1hYjM1LTQwYTA4MzViYmJmOSdcbik7XG5cbmNvbnN0IHBvcHVwV2l0aEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKCcucG9wdXBfb3Blbi1pbWFnZScpO1xucG9wdXBXaXRoSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgaGFuZGxlQ2FyZERlbGV0ZSA9IChjYXJkSWQsIGNhcmREZWxldGUpID0+IHtcbiAgYXBpXG4gICAgLmRlbGV0ZUNhcmQoJ0RFTEVURScsIGNhcmRJZClcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICBjYXJkRGVsZXRlLnJlbW92ZSgpO1xuICAgICAgcG9wdXBEZWxldGVDYXJkLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KTtcbn07XG5cbmNvbnN0IHBvcHVwRGVsZXRlQ2FyZCA9IG5ldyBQb3B1cERlbGV0ZUNhcmQoJy5wb3B1cF9kZWxldGUnLCBoYW5kbGVDYXJkRGVsZXRlKTtcbnBvcHVwRGVsZXRlQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gIHByb2ZpbGVUaXRsZSxcbiAgcHJvZmlsZVN1YnRpdGxlLFxuICBwcm9maWxlQXZhdGFyLFxufSk7XG5cblByb21pc2UuYWxsKFthcGkuZ2V0VXNlckluZm9Qcm9maWxlKCksIGFwaS5nZXRJbml0aWFsQ2FyZHMoKV0pXG4gIC50aGVuKChbZ2V0SW5mbywgY2FyZF0pID0+IHtcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyhnZXRJbmZvLm5hbWUsIGdldEluZm8uYWJvdXQsIGdldEluZm8uYXZhdGFyKTtcbiAgICBpZFVzZXIgPSBnZXRJbmZvLl9pZDtcbiAgICBzZWN0aW9uR2FsbGVyeSA9IG5ldyBTZWN0aW9uKFxuICAgICAge1xuICAgICAgICBpdGVtczogY2FyZCxcbiAgICAgICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XG4gICAgICAgICAgY29uc3QgbmV3Q2FyZCA9IGNyZWF0ZUNhcmQoaXRlbSwgZ2V0SW5mby5faWQpO1xuICAgICAgICAgIHNlY3Rpb25HYWxsZXJ5LmFkZEl0ZW0obmV3Q2FyZCk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgJy5nYWxsZXJ5J1xuICAgICk7XG4gICAgc2VjdGlvbkdhbGxlcnkucmVuZGVySXRlbXMoKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xuICB9KTtcblxuXG5jb25zdCBoYW5kbGVTdWJtaXRGb3JtQWRkQ2FyZCA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXBfYWRkJywge1xuICBoYW5kbGVGb3JtU3VibWl0OiAoZm9ybURhdGEpID0+IHtcbiAgICByZXR1cm4gYXBpXG4gICAgICAuc2VuZE5ld0NhcmQoJ1BPU1QnLCBmb3JtRGF0YSlcbiAgICAgIC50aGVuKChkYXRhUG9zdFJlcXVlc3QpID0+IHtcbiAgICAgICAgY29uc3QgbmV3Q2FyZCA9IGNyZWF0ZUNhcmQoZGF0YVBvc3RSZXF1ZXN0LCBpZFVzZXIpO1xuICAgICAgICBzZWN0aW9uR2FsbGVyeS5hZGRJdGVtKG5ld0NhcmQpO1xuICAgICAgICBoYW5kbGVTdWJtaXRGb3JtQWRkQ2FyZC5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KVxuICB9LFxufSk7XG5oYW5kbGVTdWJtaXRGb3JtQWRkQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBjcmVhdGVDYXJkID0gKGZvcm1EYXRhLCBJbmZvKSA9PiB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcbiAgICB7XG4gICAgICBpdGVtOiBmb3JtRGF0YSxcbiAgICAgIGhhbmRsZUNhcmRDbGljazogKCkgPT4ge1xuICAgICAgICBwb3B1cFdpdGhJbWFnZS5vcGVuKHsgbmFtZTogZm9ybURhdGEubmFtZSwgbGluazogZm9ybURhdGEubGluayB9KTtcbiAgICAgIH0sXG4gICAgICBoYW5kbGVMaWtlZDogKGNhcmRJZCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdMaWtlZCA9IGFwaS5saWtpbmcoJ1BVVCcsIGNhcmRJZCk7XG4gICAgICAgIHJldHVybiBuZXdMaWtlZDtcbiAgICAgIH0sXG4gICAgICBoYW5kbGVDYXJkRGVsZXRlOiAoY2FyZElkLCBjYXJkRGVsZXRlKSA9PiB7XG4gICAgICAgIHBvcHVwRGVsZXRlQ2FyZC5vcGVuKGNhcmRJZCwgY2FyZERlbGV0ZSk7XG4gICAgICB9LFxuICAgICAgaGFuZGxlTGlrZWREZWxldGU6IChjYXJkSWQpID0+IHtcbiAgICAgICAgY29uc3QgbGlrZWREZWxldGUgPSBhcGkuZGVsZXRlTGlraW5nKCdERUxFVEUnLCBjYXJkSWQpO1xuICAgICAgICByZXR1cm4gbGlrZWREZWxldGU7XG4gICAgICB9LFxuICAgICAgaWRVc2VyOiBJbmZvLFxuICAgIH0sXG4gICAgJyNnYWxsZXJ5J1xuICApO1xuXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xufTtcblxuY29uc3Qgb3BlblJlc2V0QWRkQ2FyZCA9ICgpID0+IHtcbiAgZm9ybVZhbGlkQWRkQ2FyZC5yZXNldFZhbGlkYXRpb24oKTtcbiAgaGFuZGxlU3VibWl0Rm9ybUFkZENhcmQub3BlbigpO1xufTtcblxuY29uc3QgaGFuZGxlU3VibWl0Rm9ybVByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX2VkaXQnLCB7XG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChmb3JtRGF0YSkgPT4ge1xuICAgIHJldHVybiBhcGlcbiAgICAgIC51cGRhdGVFZGl0UHJvZmlsZSgnUEFUQ0gnLCBmb3JtRGF0YSlcbiAgICAgIC50aGVuKCh1c2VyUmVxdWVzdCkgPT4ge1xuICAgICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhcbiAgICAgICAgICB1c2VyUmVxdWVzdC5uYW1lLFxuICAgICAgICAgIHVzZXJSZXF1ZXN0LmFib3V0LFxuICAgICAgICAgIHVzZXJSZXF1ZXN0LmF2YXRhclxuICAgICAgICApO1xuICAgICAgICBoYW5kbGVTdWJtaXRGb3JtUHJvZmlsZS5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KVxuICB9LFxufSk7XG5oYW5kbGVTdWJtaXRGb3JtUHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBmb3JtUHJvZmlsZUF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXBfdXBkYXRlJywge1xuICBoYW5kbGVGb3JtU3VibWl0OiAobGlua0F2YXRhcikgPT4ge1xuICAgIHJldHVybiBhcGlcbiAgICAgIC51cGRhdGVBdmF0YXIoJ1BBVENIJywgbGlua0F2YXRhcilcbiAgICAgIC50aGVuKChyZXN1bHRBdmF0YXJSZXF1ZXN0KSA9PiB7XG4gICAgICAgIGZvcm1Qcm9maWxlQXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKHJlc3VsdEF2YXRhclJlcXVlc3QpO1xuICAgICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhcbiAgICAgICAgICByZXN1bHRBdmF0YXJSZXF1ZXN0Lm5hbWUsXG4gICAgICAgICAgcmVzdWx0QXZhdGFyUmVxdWVzdC5hYm91dCxcbiAgICAgICAgICByZXN1bHRBdmF0YXJSZXF1ZXN0LmF2YXRhclxuICAgICAgICApO1xuICAgICAgICBmb3JtUHJvZmlsZUF2YXRhci5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KVxuICB9LFxufSk7XG5mb3JtUHJvZmlsZUF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBoYW5kbGVPcGVuUHJvZmlsZVBvcHVwID0gKCkgPT4ge1xuICBjb25zdCBkYXRhVXNlciA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIGlucHV0TmFtZS52YWx1ZSA9IGRhdGFVc2VyLmdldE5hbWU7XG4gIGlucHV0Sm9iLnZhbHVlID0gZGF0YVVzZXIuZ2V0UHJvZmVzc2lvbjtcbiAgZm9ybVZhbGlkUHJvZmlsZS5yZXNldFZhbGlkYXRpb24oKTtcbiAgaGFuZGxlU3VibWl0Rm9ybVByb2ZpbGUub3BlbigpO1xufTtcblxuY29uc3QgdXBkYXRlQXZhdGFyUHJvZmlsZSA9ICgpID0+IHtcbiAgZm9ybVZhbGlkUHJvZmlsZUF2YXRhci5yZXNldFZhbGlkYXRpb24oKTtcbiAgZm9ybVByb2ZpbGVBdmF0YXIub3BlbigpO1xufTtcblxucHJvZmlsZUJ1dHRvbkFkZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgb3BlblJlc2V0QWRkQ2FyZCgpO1xufSk7XG5cbnByb2ZpbGVCdXR0b25FZGl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBoYW5kbGVPcGVuUHJvZmlsZVBvcHVwKCk7XG59KTtcblxucHJvZmlsZUJsb2NrQXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICB1cGRhdGVBdmF0YXJQcm9maWxlKCk7XG59KTtcblxuY29uc3QgZm9ybVZhbGlkUHJvZmlsZSA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZ3VyYXRpb24sIHBvcHVwRWRpdCk7XG5mb3JtVmFsaWRQcm9maWxlLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgZm9ybVZhbGlkQWRkQ2FyZCA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZ3VyYXRpb24sIHBvcHVwQWRkKTtcbmZvcm1WYWxpZEFkZENhcmQuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCBmb3JtVmFsaWRQcm9maWxlQXZhdGFyID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlndXJhdGlvbiwgcG9wdXBVcGRhdGVBdmF0YXIpO1xuZm9ybVZhbGlkUHJvZmlsZUF2YXRhci5lbmFibGVWYWxpZGF0aW9uKCk7XG4iLCJleHBvcnQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IodXJsLCB0b2tlbikge1xuICAgIHRoaXMuX3VybCA9IHVybDtcbiAgICB0aGlzLl90b2tlbiA9IHRva2VuO1xuICB9XG5cbiAgX2NoZWNrUmVzcG9uc2UocmVzKSB7XG4gICAgaWYgKHJlcy5vaykge1xuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKVxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSk7XG4gIH1cblxuICB1cGRhdGVFZGl0UHJvZmlsZShwYXRjaCwgZGF0YSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBwYXRjaCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBkYXRhLmZpcnN0bmFtZSxcbiAgICAgICAgYWJvdXQ6IGRhdGEucHJvZmVzc2lvbixcbiAgICAgIH0pLFxuICAgIH0pXG4gICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKVxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICB9KTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvUHJvZmlsZSgpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKVxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSk7XG4gIH1cblxuICBzZW5kTmV3Q2FyZChwb3N0LCBkYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6IHBvc3QsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuLFxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICBsaW5rOiBkYXRhLmxpbmssXG4gICAgICB9KSxcbiAgICB9KVxuICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgfSk7XG4gIH1cblxuICBkZWxldGVDYXJkKGRlbCwgaWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogZGVsLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgIH0pO1xuICB9XG5cbiAgbGlraW5nKHB1dCwgY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiBwdXQsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuLFxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgfSk7XG4gIH1cblxuICBkZWxldGVMaWtpbmcoZGVsLCBjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6IGRlbCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKVxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZUF2YXRhcihwYXRjaCwgYXZhdGFyKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiBwYXRjaCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhdmF0YXI6IGF2YXRhci5hdmF0YXIsXG4gICAgICB9KSxcbiAgICB9KVxuICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJwcm9maWxlVGl0bGUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJwcm9maWxlU3VidGl0bGUiLCJwcm9maWxlQmxvY2tBdmF0YXIiLCJwcm9maWxlQXZhdGFyIiwicG9wdXBDb250YWluZXIiLCJpbnB1dE5hbWUiLCJpbnB1dEpvYiIsInByb2ZpbGVCdXR0b25BZGQiLCJwcm9maWxlQnV0dG9uRWRpdCIsInBvcHVwRWRpdCIsInBvcHVwQWRkIiwicG9wdXBVcGRhdGVBdmF0YXIiLCJjb25maWd1cmF0aW9uIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJDYXJkIiwidGVtcGxhdGVTZWxlY3RvciIsIml0ZW0iLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVDYXJkRGVsZXRlIiwiaGFuZGxlTGlrZWQiLCJoYW5kbGVMaWtlZERlbGV0ZSIsImlkVXNlciIsInRoaXMiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfbGlrZXMiLCJsaWtlcyIsIl9jYXJkSWQiLCJfdGVtcGxhdGVTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfdXNlcklkIiwiX2hhbmRsZUNhcmREZWxldGUiLCJfaGFuZGxlTGlrZWQiLCJfaGFuZGxlTGlrZWREZWxldGUiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2VsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJvd25lciIsIl9pZCIsInJlbW92ZSIsInNldEF0dHJpYnV0ZSIsIl9lbGVtZW50SW1nIiwiX2VsZW1lbnRMaWtlQ291bnQiLCJ0ZXh0Q29udGVudCIsInNyYyIsImFsdCIsImZvckVhY2giLCJlbGVtIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwibGVuZ3RoIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiY2FyZElkIiwiZWxlbWVudENhcmQiLCJ0aGVuIiwicmVzIiwiX2VsZW1lbnRMaWtlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVDbGlja09wZW5Qb3B1cCIsIl9oYW5kbGVDbGlja0RlbGV0ZUNhcmQiLCJfaGFuZGxlQ2xpY2tMaWtlQ2FyZCIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtRWxlbWVudCIsImlucHV0RWxlbWVudCIsIl9pbnB1dEVycm9yQ2xhc3MiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJfZm9ybUVsZW1lbnQiLCJpZCIsImFkZCIsIl9lcnJvckNsYXNzIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2lucHV0TGlzdCIsInNvbWUiLCJfYnV0dG9uRWxlbWVudCIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiZGlzYWJsZWQiLCJfaGFzSW52YWxpZElucHV0IiwiX2Rpc2FibGVkQnV0dG9uIiwiX2VuYWJsZUJ1dHRvbiIsIl9jaGVja1ZhbGlkaXR5SW5wdXQiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2luaXRpYWxBcnJheSIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJlbGVtZW50IiwicHJlcGVuZCIsIlBvcHVwIiwic2VsZWN0b3JQb3B1cCIsIl9wb3B1cCIsIl9idXR0b24iLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwiX2hhbmRsZUNsaWNrT3ZlcmxheSIsImV2dCIsImtleSIsImNsb3NlIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJQb3B1cFdpdGhJbWFnZSIsIl9wb3B1cEltZyIsIl9wb3B1cFRleHQiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX3BvcHVwRm9ybSIsIl9zdWJtaXRCdXR0b24iLCJfZm9ybVZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJyZXNldCIsInByZXZlbnREZWZhdWx0IiwiaW5pdGlhbFRleHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJmaW5hbGx5IiwiUG9wdXBEZWxldGVDYXJkIiwiX2Zvcm1Qb3B1cCIsImNhcmREZWxldGUiLCJfY2FyZERlbGV0ZSIsInNlY3Rpb25HYWxsZXJ5IiwiVXNlckluZm8iLCJfcHJvZmlsZUF1dGhvciIsIl9wcm9maWxlUHJvZmVzc2lvbiIsIl9wcm9maWxlQXZhdGFyIiwiZ2V0TmFtZSIsImdldFByb2Zlc3Npb24iLCJhdXRvciIsInByb2Zlc3Npb24iLCJhdmF0YXIiLCJhcGkiLCJ1cmwiLCJ0b2tlbiIsIl91cmwiLCJfdG9rZW4iLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZmV0Y2giLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsIl9jaGVja1Jlc3BvbnNlIiwicmVzdWx0IiwicGF0Y2giLCJkYXRhIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJmaXJzdG5hbWUiLCJhYm91dCIsInBvc3QiLCJkZWwiLCJwdXQiLCJwb3B1cFdpdGhJbWFnZSIsInNldEV2ZW50TGlzdGVuZXJzIiwicG9wdXBEZWxldGVDYXJkIiwiZGVsZXRlQ2FyZCIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsInVzZXJJbmZvIiwiYWxsIiwiZ2V0VXNlckluZm9Qcm9maWxlIiwiZ2V0SW5pdGlhbENhcmRzIiwiZ2V0SW5mbyIsImNhcmQiLCJzZXRVc2VySW5mbyIsIm5ld0NhcmQiLCJjcmVhdGVDYXJkIiwiYWRkSXRlbSIsInJlbmRlckl0ZW1zIiwiaGFuZGxlU3VibWl0Rm9ybUFkZENhcmQiLCJmb3JtRGF0YSIsInNlbmROZXdDYXJkIiwiZGF0YVBvc3RSZXF1ZXN0IiwiSW5mbyIsIm9wZW4iLCJsaWtpbmciLCJkZWxldGVMaWtpbmciLCJnZW5lcmF0ZUNhcmQiLCJoYW5kbGVTdWJtaXRGb3JtUHJvZmlsZSIsInVwZGF0ZUVkaXRQcm9maWxlIiwidXNlclJlcXVlc3QiLCJmb3JtUHJvZmlsZUF2YXRhciIsImxpbmtBdmF0YXIiLCJ1cGRhdGVBdmF0YXIiLCJyZXN1bHRBdmF0YXJSZXF1ZXN0IiwiZm9ybVZhbGlkQWRkQ2FyZCIsInJlc2V0VmFsaWRhdGlvbiIsImRhdGFVc2VyIiwiZ2V0VXNlckluZm8iLCJmb3JtVmFsaWRQcm9maWxlIiwiZm9ybVZhbGlkUHJvZmlsZUF2YXRhciIsImVuYWJsZVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9